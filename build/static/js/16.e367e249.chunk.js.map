{"version":3,"sources":["functions/category.js","components/SearchFilters/SearchFilters.js","pages/search/Search.js"],"names":["create","email","category","axios","post","process","name","headers","list","get","update","slug","put","remove","console","log","delete","SearchFilters","price","setPrice","products","setProducts","setLoading","loading","useState","allCategory","setAllCategory","allBrand","setAllBrand","showCategory","setShowCategory","showBrand","setShowBrand","searchKey","setSearchKey","showStar","setShowStar","useEffect","loadCategory","loadBrand","loadProductsByPrice","GetBySearchText","data","length","Error","checkBox","e","target","checked","loadProductByCategory","checkBoxBrand","loadProductsByBrand","brand","checkBoxStar","loadProductByStar","stars","star","GetProductsByCount","brandArr","i","includes","push","className","tipFormatter","v","range","step","max","value","onChange","onAfterChange","onClick","UpOutlined","DownOutlined","style","display","Search","placeholder","enterButton","size","onSearch","filter","toLowerCase","map","c","_id","marginLeft","index","disabled","defaultValue","searchFilter","setSearchFilter","search","useSelector","state","history","useHistory","loadProductBySearchText","query","text","allproducts","message","error","content","position","bottom","right","product","Card1","rate","rating","UpCircleOutlined","Loading"],"mappings":"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","file":"static/js/16.e367e249.chunk.js","sourcesContent":["import axios from \"axios\";\n\n//create category using this api request\nexport const create = async (email,category)=>{\n\n    return await axios.post(`${process.env.REACT_APP_API}/category`,{name:category},\n    {\n        headers:{\n            email:email,\n        }\n    })\n}\n\n//get all the category list using this api request\nexport const list = async ()=>{\n    return await axios.get(`${process.env.REACT_APP_API}/categories`)\n}\n\n//read single category that u have made using slug using this api request\nexport const read = async (slug,email)=>{\n    return await axios.get(`${process.env.REACT_APP_API}/${slug}`,{},\n    {\n        headers:{\n            email:email,\n        }\n    })\n}\n\n//update category using this api request\nexport const update = async(slug,email,category)=>{\n  \n    // console.log(\"slug\",slug,\"email\",email,\"category\",category)\nreturn await axios.put(`${process.env.REACT_APP_API}/category/${slug}`,{category},\n{\n   headers:{\n       email:email\n   }\n}\n)\n\n}\n\n//delete category that u have made using this api request\nexport const remove = async(slug,email)=>{\n    console.log(\"slug\",slug,\"email\",email)\n    return await axios.delete(`${process.env.REACT_APP_API}/category/${slug}`,{\n        headers:{\n            email:email\n        }\n    })\n}\n\n","import React, { useEffect, useState } from \"react\";\n\n//css\nimport \"./searchfilters.css\";\n\n//functions\nimport { GetBySearchText, GetProductsByCount } from \"../../functions/product\";\nimport { list } from \"../../functions/category\";\n\n//components\nimport { Slider, Checkbox, Input, Rate } from \"antd\";\nimport { DownOutlined, UpOutlined } from \"@ant-design/icons\";\n\nfunction SearchFilters({\n  price,\n  setPrice,\n  products,\n  setProducts,\n  loading,\n  setLoading,\n}) {\n  // const [price,setPrice] = useState([0,60000]);\n\n  const [allCategory, setAllCategory] = useState([]);\n  const [allBrand, setAllBrand] = useState([]);\n  const [showCategory, setShowCategory] = useState(true);\n  const [showBrand, setShowBrand] = useState(true);\n  const [searchKey, setSearchKey] = useState(\"\");\n  const [showStar, setShowStar] = useState(true);\n\n  useEffect(() => {\n    loadCategory();\n    loadBrand();\n  }, []);\n\n  const onChange = (value) => {\n    // setLoading(true);\n    setPrice(value);\n    //   console.log(\"price value\",value)\n  };\n\n  const onAfterChange = (value) => {\n    loadProductsByPrice({ price: price });\n    //    console.log(value)\n  };\n\n  const loadProductsByPrice = async (price) => {\n    try {\n      const products = await GetBySearchText(price);\n      //    console.log(\"product by price\",products)\n      if (products.data.length !== 0) {\n        setProducts(products.data);\n        setLoading(false);\n      } else {\n        throw new Error(\"Products not found\");\n      }\n    } catch (e) {\n      setLoading(false);\n      // console.log(\"product by price\",e.message);\n    } finally {\n      if (!products) {\n        setLoading(false);\n      }\n    }\n  };\n\n  //load all category\n  const loadCategory = async () => {\n    const allCategory = await list();\n    // console.log(\"all category\", allCategory);\n    setAllCategory(allCategory.data);\n  };\n\n  //checkbox category function\n  const checkBox = (e) => {\n    // console.log(\"checkbox\", e.nativeEvent.target.name);\n    // console.log(\"checkbox\", e);\n    if (e.target.checked) {\n      loadProductByCategory({ category: e.target.name });\n    }\n  };\n\n  const checkBoxBrand = (e) => {\n    if (e.target.checked) {\n      loadProductsByBrand({ brand: e.target.name });\n    }\n  };\n\n  const checkBoxStar = (e) => {\n    if (e.target.checked) {\n      loadProductByStar({ stars: e.target.name });\n    }\n  };\n\n  const loadProductByStar = async (star) => {\n    const products = await GetBySearchText(star);\n    if (products.data.length !== 0) setProducts(products.data);\n  };\n\n  const loadProductByCategory = async (category) => {\n    const products = await GetBySearchText(category);\n    // console.log(\"category--------->\", products);\n    if (products.data.length !== 0) setProducts(products.data);\n  };\n\n  const loadProductsByBrand = async (brand) => {\n    const products = await GetBySearchText(brand);\n    if (products.data.length !== 0) setProducts(products.data);\n  };\n\n  //category search bar func\n  const onSearch = (v) => {\n    // console.log(\"onsearch \", v);\n    setSearchKey(v);\n  };\n\n  //brand search bar func\n  const onBrand = (v) => {\n    setSearchKey(v);\n  };\n\n  //load brand\n  const loadBrand = async () => {\n    const brand = await GetProductsByCount();\n    let brandArr = [];\n    for (let i = 0; i < brand.data.length; i++) {\n      if (!brandArr.includes(brand.data[i].brand)) {\n        brandArr.push(brand.data[i].brand);\n      }\n    }\n\n    setAllBrand(brandArr);\n\n    // console.log(\"brand----->\", brand.data);\n  };\n\n  return (\n    <div className=\"search__filters\">\n      <div className=\"heading\">\n        <span>Filters</span>\n      </div>\n      {/* price filter section */}\n      <div className=\"price\">\n        <div className=\"price__heading\">\n          <span>Price</span>\n        </div>\n        <Slider\n          tipFormatter={(v) => `₹${v}`}\n          range\n          step={10}\n          max=\"200000\"\n          value={price}\n          onChange={onChange}\n          onAfterChange={onAfterChange}\n        />\n      </div>\n      {/* category filter section */}\n      <div className=\"price\">\n        <div\n          className=\"category__heading\"\n          onClick={() => {\n            showCategory ? setShowCategory(false) : setShowCategory(true);\n          }}\n        >\n          <span className=\"category__span\">Category</span>\n          {showCategory ? <UpOutlined /> : <DownOutlined />}\n        </div>\n        <ul\n          className=\"category__list\"\n          style={showCategory ? { display: \"block\" } : { display: \"none\" }}\n        >\n          {/* //search bar */}\n          <Input.Search\n            placeholder=\"search category\"\n            enterButton\n            size=\"small\"\n            onSearch={onSearch}\n          />\n          {allCategory\n            ?.filter((v) =>\n              searchKey !== \"\" ? v.name.toLowerCase() === searchKey : v\n            )\n            .map((c) => (\n              <li className=\"category__list__Item\" key={c._id}>\n                <Checkbox name={c._id} onChange={checkBox} />\n                <span style={{ marginLeft: \"3%\" }}>{c.name}</span>\n              </li>\n            ))}\n        </ul>\n      </div>\n\n      {/* by brand filter section */}\n      <div className=\"price\">\n        <div\n          className=\"brand__heading\"\n          onClick={() => {\n            showBrand ? setShowBrand(false) : setShowBrand(true);\n          }}\n        >\n          <span className=\"category__span\">Brand</span>\n          {showBrand ? <UpOutlined /> : <DownOutlined />}\n        </div>\n        <ul\n          className=\"category__list\"\n          style={showBrand ? { display: \"block\" } : { display: \"none\" }}\n        >\n          {/* //search bar */}\n          <Input.Search\n            placeholder=\"search brand\"\n            enterButton\n            size=\"small\"\n            onSearch={onBrand}\n          />\n\n          {allBrand\n            ?.filter((v) =>\n              searchKey !== \"\" ? v.name.toLowerCase() === searchKey : v\n            )\n            .map((c, index) => (\n              <li className=\"category__list__Item\" key={index}>\n                <Checkbox name={c} onChange={checkBoxBrand} />\n                <span style={{ marginLeft: \"3%\" }}>{c}</span>\n              </li>\n            ))}\n        </ul>\n      </div>\n\n      {/* search by rating */}\n      <div className=\"price\">\n        <div\n          className=\"star__heading\"\n          onClick={() => {\n            showStar ? setShowStar(false) : setShowStar(true);\n          }}\n        >\n          <span className=\"category__span\">Star</span>\n          {showStar ? <UpOutlined /> : <DownOutlined />}\n        </div>\n        <ul\n          className=\"category__list\"\n          style={showStar ? { display: \"block\" } : { display: \"none\" }}\n        >\n          {\n            <>\n              <li className=\"category__list__Item\">\n                <Checkbox name={5} onChange={checkBoxStar} />\n                <span style={{ marginLeft: \"3%\" }}>\n                  {<Rate disabled defaultValue={5} />}\n                </span>\n              </li>\n\n              <li className=\"category__list__Item\">\n                <Checkbox name={4} onChange={checkBoxStar} />\n                <span style={{ marginLeft: \"3%\" }}>\n                  {<Rate disabled defaultValue={4} />}\n                </span>\n              </li>\n\n              <li className=\"category__list__Item\">\n                <Checkbox name={3} onChange={checkBoxStar} />\n                <span style={{ marginLeft: \"3%\" }}>\n                  {<Rate disabled defaultValue={3} />}\n                </span>\n              </li>\n\n              <li className=\"category__list__Item\">\n                <Checkbox name={2} onChange={checkBoxStar} />\n                <span style={{ marginLeft: \"3%\" }}>\n                  {<Rate disabled defaultValue={2} />}\n                </span>\n              </li>\n\n              <li className=\"category__list__Item\">\n                <Checkbox name={1} onChange={checkBoxStar} />\n                <span style={{ marginLeft: \"3%\" }}>\n                  {<Rate disabled defaultValue={1} />}\n                </span>\n              </li>\n            </>\n          }\n        </ul>\n      </div>\n    </div>\n  );\n}\n\nexport default SearchFilters;\n","import React, { useState, useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport Loading from \"../../components/Loading/Loading\";\n\n//functions\nimport { GetBySearchText } from \"../../functions/product\";\n\n//components\nimport Card1 from \"../../components/Card/Card1\";\nimport {UpCircleOutlined} from \"@ant-design/icons\";\n\n//css\nimport \"./search.css\";\nimport SearchFilters from \"../../components/SearchFilters/SearchFilters\";\nimport { useHistory } from \"react-router-dom\";\nimport {message} from \"antd\"\n\nfunction Search() {\n  const [products, setProducts] = useState([]);\n  const [price,setPrice] = useState([0,60000]);\n  const [loading, setLoading] = useState(true);\n  const [searchFilter,setSearchFilter] = useState(false);\n  const { search } = useSelector((state) => ({ ...state }));\n  const history = useHistory();\n\n  useEffect(() => {\n    loadProductBySearchText({ query: search.text });\n\n    return () => loading;\n    // eslint-disable-next-line\n  }, [search.text]);\n\n\n  const loadProductBySearchText = async (text) => {\n    try {\n      const allproducts = await GetBySearchText(text);\n      setProducts(allproducts.data);\n      setLoading(false);\n      //   console.log(\"all products from search\",allproducts.data);\n    } catch (error) {\n      message.error({content:\"Product not found!\",style:{position:\"fixed\",bottom:\"0px\",right:\"35%\"}})\n      history.push(\"/\")\n      setLoading(true);\n    }\n  };\n\n\n  return (\n    <div className=\"search\">\n      {!loading && products?.length > 0 ? (\n        <>\n          <div className={searchFilter?`search__filters__container hide`:`search__filters__container display`}>\n            <SearchFilters loading={loading} setLoading={setLoading} products={products} setProducts={setProducts} price={price} setPrice={setPrice}/>\n          </div>\n          <div className=\"show__search__container\">\n            <p>Showing search result for \"{search.text}\"</p>\n            <div className=\"show__search\">\n              {products.map((product) => (\n                <Card1\n                  rate={product.rating}\n                  rating={true}\n                  key={product._id}\n                  product={product}\n                />\n              ))}\n            </div>\n          </div>\n          <div className=\"display__search__filters\"><UpCircleOutlined onClick={()=>{setSearchFilter(!searchFilter)}} /></div>\n        </>\n      ) : (\n        // <p>Product not found</p>\n        <Loading text=\"Searching...\" />\n      )}\n    </div>\n  );\n}\n\nexport default Search;\n"],"sourceRoot":""}