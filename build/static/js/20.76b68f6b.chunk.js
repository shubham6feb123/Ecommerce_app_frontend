(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[20],{426:function(e,t,r){},698:function(e,t,r){"use strict";r.r(t);var a=r(14),s=r(19),i=r(7),n=r(0),o=r(76),c=(r(426),r(60)),l=r(30),m=r(243),u=r(245),b=r(126),d=r(237),j=r(70),g=r(249),p=r(250),h=r(97),x=r(6),f=Object(x.jsx)(j.a,{style:{fontSize:24},spin:!0});t.default=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),r=t[0],j=t[1],O=Object(n.useState)(!1),w=Object(i.a)(O,2),v=w[0],k=w[1],y=Object(l.g)();Object(n.useEffect)((function(){j(window.localStorage.getItem("EmailForRegistration"))}),[]);var E=function(){var e=Object(s.a)(Object(a.a)().mark((function e(t){var s,i;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.password,console.log(t),s){e.next=7;break}return c.b.error("Password is required",{position:"bottom-right"}),e.abrupt("return");case 7:if(!(s.length<6)){e.next=12;break}return c.b.error("Password sholud be atleast 6 characters long",{position:"bottom-right"}),e.abrupt("return");case 12:return e.prev=12,k(!0),e.next=16,o.a.signInWithEmailLink(r,window.location.href);case 16:if(!e.sent.user.emailVerified){e.next=29;break}return window.localStorage.removeItem("EmailForRegistration"),e.next=21,o.a.currentUser;case 21:return i=e.sent,e.next=24,i.updatePassword(s);case 24:return e.next=26,i.getIdTokenResult();case 26:y.push("/"),e.next=30;break;case 29:console.log("user is not verified",window.localStorage.getItem("EmailForRegistration"));case 30:e.next=37;break;case 32:e.prev=32,e.t0=e.catch(12),k(!1),console.log(e.t0),c.b.error("Verification link sent to email has been expired or not working. Try to register again ",{position:"bottom-right"});case 37:case"end":return e.stop()}}),e,null,[[12,32]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"login",children:[Object(x.jsx)("div",{className:"logo__wrapper",children:Object(x.jsx)("img",{src:h.a,alt:"logo"})}),Object(x.jsxs)(m.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:E,style:{textAlign:"center"},fields:[{name:["Email"],value:r}],children:[Object(x.jsx)(m.a.Item,{name:"Email",rules:[{required:!1,message:"Please enter your Email"}],children:Object(x.jsx)(u.a,{disabled:!0,prefix:Object(x.jsx)(g.a,{className:"site-form-item-icon"}),placeholder:"Email"})}),Object(x.jsx)(m.a.Item,{name:"password",rules:[{required:!0,message:"Please enter your Password"}],children:Object(x.jsx)(u.a,{prefix:Object(x.jsx)(p.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})}),Object(x.jsx)(m.a.Item,{children:Object(x.jsx)(b.a,{size:"large",type:"primary",htmlType:"submit",className:"login-form-button",style:{width:"100%"},children:v?Object(x.jsx)(d.a,{indicator:f}):"Complete Registration"})})]})]})})}}}]);
//# sourceMappingURL=20.76b68f6b.chunk.js.map