(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[14],{295:function(t,e,c){},360:function(t,e,c){"use strict";var i=c(30),a=(c(295),c.p+"static/media/cart.2fa7df42.png"),n=c(6);e.a=function(t){var e=t.heading,c=t.text1,r=t.text2,s=t.button,o=Object(i.g)();return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"cart__empty__container",children:[Object(n.jsx)("div",{className:"cart__empty__heading",children:Object(n.jsx)("span",{className:"empty__heading",children:e})}),Object(n.jsxs)("section",{className:"cart__empty__section",children:[Object(n.jsx)("img",{className:"cart__empty__img",src:a,alt:"empty cart"}),Object(n.jsx)("div",{className:"cart__empty__text",children:c}),Object(n.jsx)("div",{className:"cart__empty__add__text",children:r}),Object(n.jsx)("div",{className:"cart__empty__shop__button",children:Object(n.jsx)("button",{onClick:function(){o.push("/")},children:s})})]})]})})}},424:function(t,e,c){"use strict";var i=c(3),a=c(0),n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},r=c(13),s=function(t,e){return a.createElement(r.a,Object(i.a)(Object(i.a)({},t),{},{ref:e,icon:n}))};s.displayName="PlusOutlined";e.a=a.forwardRef(s)},685:function(t,e,c){},718:function(t,e,c){"use strict";c.r(e);var i=c(14),a=c(19),n=c(3),r=c(7),s=c(0),o=(c(295),c(360)),l=(c(685),c(114)),d=c.n(l),u={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"minus",theme:"outlined"},_=c(13),j=function(t,e){return s.createElement(_.a,Object(n.a)(Object(n.a)({},t),{},{ref:e,icon:u}))};j.displayName="MinusOutlined";var p=s.forwardRef(j),v=c(424),b=c(121),m=c(85),x=c(34),O=c(6);var f=function(t){var e,c=t.item,i=Object(s.useState)(1),a=Object(r.a)(i,2),n=a[0],o=a[1],l=Object(s.useState)(!1),u=Object(r.a)(l,2),_=u[0],j=u[1],f=Object(x.b)();Object(s.useEffect)((function(){void 0!==n&&o(null===c||void 0===c?void 0:c.count)}),[c]);var h,g=null===c||void 0===c?void 0:c.count,y=function(){if(n<7){var t,e=[];void 0!==typeof window&&(e=JSON.parse(window.localStorage.getItem("cart"))),null===(t=e)||void 0===t||t.map((function(t,i){return(null===t||void 0===t?void 0:t._id)===(null===c||void 0===c?void 0:c._id)&&(e[i].count=g+1),0})),window.localStorage.setItem("cart",JSON.stringify(e)),f({type:"ADD_TO_CART",payload:e}),o(n+1)}else b.b.error({content:"You can buy only up to 7 unit(s) of this product",style:{position:"fixed",bottom:"10px",left:"25px",right:"20px"}})},N=function(){if(n>1){var t,e=[];void 0!==typeof window&&(e=JSON.parse(window.localStorage.getItem("cart"))),null===(t=e)||void 0===t||t.map((function(t,i){return(null===t||void 0===t?void 0:t._id)===c._id&&(e[i].count=g-1),0})),window.localStorage.setItem("cart",JSON.stringify(e)),f({type:"ADD_TO_CART",payload:e}),o(n-1)}},w=function(t){t.target.style.border?(t.target.style.border="",j(!1),b.b.success({content:"Color unselected!",style:{position:"fixed",bottom:"10px",left:"25px",right:"20px"}})):_?t.target.style.border&&(t.target.style.border="",j(!1)):(t.target.style.border="2px solid #2774f0",j(!0),b.b.success({content:"Color selected!",style:{position:"fixed",bottom:"10px",left:"25px",right:"20px"}}),S(t.target.attributes[0].value))},S=function(t){var e=[];void 0!==typeof window&&(e=JSON.parse(window.localStorage.getItem("cart")));for(var i=0;i<e.length;i++)e[i]._id===c._id&&(e[i].color=[t]);window.localStorage.setItem("cart",JSON.stringify(e)),f({type:"ADD_TO_CART",payload:e})};return Object(O.jsxs)("div",{className:"cart__item__card__container",children:[Object(O.jsxs)("div",{className:"cart__item__content",children:[Object(O.jsx)("div",{className:"cart__item__image",children:Object(O.jsx)("img",{style:{width:"150px"},src:null===c||void 0===c?void 0:c.images[0].secure_url,alt:"product"})}),Object(O.jsxs)("div",{className:"cart__item__details",children:[Object(O.jsxs)("div",{className:"cart__item__details__heading",children:[(h=null===c||void 0===c?void 0:c.title,null===h||void 0===h?void 0:h.slice(0,60)),"..."]}),Object(O.jsx)("div",{className:"cart__item__details__price",children:Object(O.jsx)(d.a,{value:null===c||void 0===c?void 0:c.price,displayType:"text",thousandSeparator:!0,prefix:"\u20b9"})}),Object(O.jsxs)("div",{className:"cart__item__details__color",children:[Object(O.jsx)("div",{children:"Select Color"}),Object(O.jsx)("div",{children:null===c||void 0===c||null===(e=c.color)||void 0===e?void 0:e.map((function(t,e){return Object(O.jsx)(m.a,{title:t,children:Object(O.jsx)("span",{value:t,style:{background:t},onClick:w},e)},e)}))})]})]})]}),Object(O.jsxs)("div",{className:"cart__item__features",children:[Object(O.jsxs)("div",{className:"cart__item__features__counter",children:[Object(O.jsx)("button",{style:1===n?{pointerEvents:"auto",cursor:"not-allowed"}:{cursor:"pointer"},className:"minus",onClick:N,disabled:n<=1,children:Object(O.jsx)(p,{style:1===n?{pointerEvents:"auto",cursor:"not-allowed"}:{cursor:"pointer"},className:"minus",onClick:N})}),Object(O.jsx)("input",{value:null===c||void 0===c?void 0:c.count,readOnly:!0}),Object(O.jsx)("button",{style:7===n?{pointerEvents:"auto",cursor:"not-allowed"}:{cursor:"pointer"},className:"plus",onClick:y,children:Object(O.jsx)(v.a,{style:7===n?{pointerEvents:"auto",cursor:"not-allowed"}:{cursor:"pointer"},className:"plus",onClick:y})})]}),Object(O.jsx)("div",{className:"cart__item__features__save__button",children:Object(O.jsx)("button",{children:"Save for later"})}),Object(O.jsx)("div",{className:"cart__item__features__remove__button",children:Object(O.jsx)("button",{onClick:function(){var t=[];void 0!==typeof window&&(t=JSON.parse(window.localStorage.getItem("cart")));var e=t.findIndex((function(t){return t._id===c._id}));console.log("index of item in cart",e),t.splice(e,1),window.localStorage.setItem("cart",JSON.stringify(t)),f({type:"ADD_TO_CART",payload:t}),b.b.success({content:"Item removed from your cart!",style:{position:"fixed",bottom:"10px",left:"25px",right:"20px"}})},children:"Remove"})})]})]})},h=function(t){var e=t.cart;return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"cart__fill__container",children:[Object(O.jsxs)("div",{className:"cart__fill__item__container",children:[Object(O.jsx)("div",{className:"cart__fill__item__heading",children:Object(O.jsxs)("span",{children:["My Cart (",null===e||void 0===e?void 0:e.length,")"]})}),null===e||void 0===e?void 0:e.map((function(t){return Object(O.jsx)(f,{item:t},t._id)}))]}),Object(O.jsxs)("div",{className:"cart__fill__price__details__container",children:[Object(O.jsx)("div",{className:"cart__fill__price__details__heading",children:"PRICE DETAILS"}),Object(O.jsx)("div",{className:"cart__fill__price__details__calculation",children:null===e||void 0===e?void 0:e.map((function(t,e){return Object(O.jsxs)("div",{className:"cart__fill__price__details",children:[Object(O.jsxs)("div",{children:[null===t||void 0===t?void 0:t.title.slice(0,20)," x ",null===t||void 0===t?void 0:t.count]})," ",Object(O.jsx)("div",{children:Object(O.jsx)(d.a,{value:(null===t||void 0===t?void 0:t.price)*(null===t||void 0===t?void 0:t.count),displayType:"text",thousandSeparator:!0,prefix:"\u20b9"})})]},null===t||void 0===t?void 0:t._id)}))}),Object(O.jsxs)("div",{className:"cart__fill__price__details__total",children:[Object(O.jsx)("div",{children:"Total Amount"}),Object(O.jsx)("div",{children:Object(O.jsx)(d.a,{value:function(){for(var t=0,c=0;c<e.length;c++)t+=e[c].price*e[c].count;return t}(),displayType:"text",thousandSeparator:!0,prefix:"\u20b9"})})]})]})]})})},g=c(30),y=c(43),N=c.n(y),w=function(){var t=Object(a.a)(Object(i.a)().mark((function t(e,c){return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.a.post("".concat("https://ecommerce-app-backend-2zh4.onrender.com/api","/user/cart"),{cart:e},{headers:{authtoken:c}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,c){return t.apply(this,arguments)}}(),S=w,k=c(237),C=c(70),T=c(75),I=Object(O.jsx)(C.a,{});e.default=function(){var t=Object(s.useState)([]),e=Object(r.a)(t,2),c=e[0],l=e[1],d=Object(s.useState)(!1),u=Object(r.a)(d,2),_=u[0],j=u[1],p=Object(x.c)((function(t){return Object(n.a)({},t)})),v=p.cart,b=p.user,m=Object(g.g)();Object(s.useEffect)((function(){l(v)}),[v]);var f=function(){var t=Object(a.a)(Object(i.a)().mark((function t(){return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,j(!0),t.next=4,S(v,b.token);case 4:t.sent.data.ok&&(j(!1),m.push("/checkout")),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),j(!1),console.log("error in cart",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();return null!==b&&void 0!==b&&b.token?Object(O.jsxs)("div",{className:"cart__container",children:[v.length<=0?Object(O.jsx)(o.a,{heading:"My Cart",text1:"Your cart is empty!",text2:"Add items to it now.",button:"Shop now"}):Object(O.jsx)(h,{cart:c}),(null===v||void 0===v?void 0:v.length)>0&&Object(O.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginRight:"4px",padding:"0px 2px 8px 0px"},children:Object(O.jsx)("div",{className:"proceed__to__checkout",children:Object(O.jsx)("button",{disabled:!!_,onClick:f,children:_?Object(O.jsx)(k.a,{size:"large",indicator:I,tip:"Proceeding to checkout"}):"Proceed to checkout"})})})]}):Object(O.jsx)(T.a,{})}}}]);
//# sourceMappingURL=14.fc469323.chunk.js.map