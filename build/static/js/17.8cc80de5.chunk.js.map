{"version":3,"sources":["functions/coupon.js","functions/getUserCart.js","functions/payment.js","functions/deliveryDetails.js","components/form/CheckOutForm.js","pages/checkOut/CheckOut.js"],"names":["Create","coupon","email","axios","post","process","headers","Remove","couponId","delete","List","get","verifyCoupon","code","authtoken","verify","createOrder","stripeResponse","message","getCart","verifyUser","id","user","deliveryDetails","details","CheckOutForm","setDetails","handleDetails","e","target","name","value","submitDetails","preventDefault","detail","console","log","success","content","style","position","bottom","left","right","error","background","paddingBottom","width","className","onSubmit","htmlFor","type","placeholder","onChange","mobileNumber","pincode","city","address","state","abbreviation","map","index","defaultValue","zip","color","padding","antIcon","LoadingOutlined","CheckOut","useState","showCoupon","setShowCoupon","couponCode","setCouponCode","setError","loading","setLoading","orderLoading","setOrderLoading","totalAfterDiscount","setTotalAfterDiscount","useSelector","storeCart","setStoreCart","dispatch","useDispatch","history","useHistory","useEffect","loadUser","loadCart","cart","data","push","currentUser","userDetails","applyCoupon","token","verified","Number","payload","previousSibling","_id","status","products","onClick","nextSibling","display","letterSpacing","fontWeight","textTransform","item","product","title","slice","count","price","displayType","thousandSeparator","prefix","cartTotal","disabled","size","indicator","tip","Loading"],"mappings":"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","file":"static/js/17.8cc80de5.chunk.js","sourcesContent":["import axios from \"axios\"\n\nexport const Create = async (coupon, email) => {\n  // console.log(\"coupon\",coupon)\n  return await axios.post(\n    `${process.env.REACT_APP_API}/coupon/create`,\n    coupon,\n    {\n      headers: {\n        email: email,\n      },\n    }\n  );\n};\n\nexport const Remove = async (couponId, email) => {\n  return await axios.delete(\n    `${process.env.REACT_APP_API}/coupon/remove/${couponId}`,\n    {\n      headers: {\n        email: email,\n      },\n    }\n  );\n};\n\nexport const List = async () => {\n  return await axios.get(`${process.env.REACT_APP_API}/coupon/list`);\n};\n\nexport const verifyCoupon = async (code, authtoken) => {\n  return await axios.post(\n    `${process.env.REACT_APP_API}/coupon/verify`,\n    { verify: code },\n    {\n      headers: {\n        authtoken: authtoken,\n      },\n    }\n  );\n};\n\nexport const createOrder = async (stripeResponse, authtoken) => {\n  return await axios.post(\n    `${process.env.REACT_APP_API}/user/order`,\n    { stripeResponse: stripeResponse },\n    {\n      headers: {\n        authtoken: authtoken,\n        message:\"order create kr rhe h\"\n      },\n    }\n  );\n};\n","import axios from \"axios\";\n\nconst getCart = async(email)=>{\n    return await axios.get(`${process.env.REACT_APP_API}/user/cart/${email}`)\n}\n\nexport default getCart;","import axios from \"axios\"\nexport const verifyUser = async(id)=>{\nreturn await axios.post(`${process.env.REACT_APP_API}/payment/user/verify`,{\n    user:id,\n})\n}","import axios from \"axios\";\nconst deliveryDetails = async(details,authtoken)=>{\nreturn await axios.post(`${process.env.REACT_APP_API}/user/delivery/details`,{details:details},{\n    headers:{\n        authtoken:authtoken\n    }\n})\n}\n\nexport default deliveryDetails;","import React from \"react\";\nimport deliveryDetails from \"../../functions/deliveryDetails\";\nimport {message} from \"antd\";\n\n\nfunction CheckOutForm({details,setDetails,authtoken}) {\n  const indianState = [\n    {\n      abbreviation: \"AN\",\n      name: \"Andaman and Nicobar Islands\",\n    },\n    {\n      abbreviation: \"AP\",\n      name: \"Andhra Pradesh\",\n    },\n    {\n      abbreviation: \"AR\",\n      name: \"Arunachal Pradesh\",\n    },\n    {\n      abbreviation: \"AS\",\n      name: \"Assam\",\n    },\n    {\n      abbreviation: \"BR\",\n      name: \"Bihar\",\n    },\n    {\n      abbreviation: \"CG\",\n      name: \"Chandigarh\",\n    },\n    {\n      abbreviation: \"CH\",\n      name: \"Chhattisgarh\",\n    },\n    {\n      abbreviation: \"DH\",\n      name: \"Dadra and Nagar Haveli\",\n    },\n    {\n      abbreviation: \"DD\",\n      name: \"Daman and Diu\",\n    },\n    {\n      abbreviation: \"DL\",\n      name: \"Delhi\",\n    },\n    {\n      abbreviation: \"GA\",\n      name: \"Goa\",\n    },\n    {\n      abbreviation: \"GJ\",\n      name: \"Gujarat\",\n    },\n    {\n      abbreviation: \"HR\",\n      name: \"Haryana\",\n    },\n    {\n      abbreviation: \"HP\",\n      name: \"Himachal Pradesh\",\n    },\n    {\n      abbreviation: \"JK\",\n      name: \"Jammu and Kashmir\",\n    },\n    {\n      abbreviation: \"JH\",\n      name: \"Jharkhand\",\n    },\n    {\n      abbreviation: \"KA\",\n      name: \"Karnataka\",\n    },\n    {\n      abbreviation: \"KL\",\n      name: \"Kerala\",\n    },\n    {\n      abbreviation: \"LD\",\n      name: \"Lakshadweep\",\n    },\n    {\n      abbreviation: \"MP\",\n      name: \"Madhya Pradesh\",\n    },\n    {\n      abbreviation: \"MH\",\n      name: \"Maharashtra\",\n    },\n    {\n      abbreviation: \"MN\",\n      name: \"Manipur\",\n    },\n    {\n      abbreviation: \"ML\",\n      name: \"Meghalaya\",\n    },\n    {\n      abbreviation: \"MZ\",\n      name: \"Mizoram\",\n    },\n    {\n      abbreviation: \"NL\",\n      name: \"Nagaland\",\n    },\n    {\n      abbreviation: \"OR\",\n      name: \"Odisha\",\n    },\n    {\n      abbreviation: \"PY\",\n      name: \"Puducherry\",\n    },\n    {\n      abbreviation: \"PB\",\n      name: \"Punjab\",\n    },\n    {\n      abbreviation: \"RJ\",\n      name: \"Rajasthan\",\n    },\n    {\n      abbreviation: \"SK\",\n      name: \"Sikkim\",\n    },\n    {\n      abbreviation: \"TN\",\n      name: \"Tamil Nadu\",\n    },\n    {\n      abbreviation: \"TS\",\n      name: \"Telangana\",\n    },\n    {\n      abbreviation: \"TR\",\n      name: \"Tripura\",\n    },\n    {\n      abbreviation: \"UP\",\n      name: \"Uttar Pradesh\",\n    },\n    {\n      abbreviation: \"UK\",\n      name: \"Uttarakhand\",\n    },\n    {\n      abbreviation: \"WB\",\n      name: \"West Bengal\",\n    },\n  ];\n\n\n  const handleDetails = (e)=>{\n      // console.log(\"handleDetails\",e.target.value,\"<-------\",e.target.name)\n      setDetails({...details,[e.target.name]:e.target.value})\n  }\n\n  const submitDetails = async(e)=>{\n    try{e.preventDefault();\n  //  console.log(\"details------------->\",details)\n   const detail = await deliveryDetails(details,authtoken)\n   console.log(\"save details\",detail);\n   message.success({\n    content: \"Delivery address saved!\",\n    style: {\n      position: \"fixed\",\n      bottom: \"10px\",\n      left: \"25px\",\n      right: \"20px\",\n    },\n  })\n  }catch(e){\n     console.log(\"failed to save details\",e)\n     message.error({\n      content: \"Failed to save details!\",\n      style: {\n        position: \"fixed\",\n        bottom: \"10px\",\n        left: \"25px\",\n        right: \"20px\",\n      },\n    })\n   }\n  }\n  return (\n    <form style={{background:\"#ffffff\",paddingBottom:\"12px\",width:\"100%\"}} className=\"px-2\" onSubmit={submitDetails} >\n      <div className=\"form-row\">\n        <div className=\"form-group col-md-6 py-2\">\n          <label htmlFor=\"inputName\">Name</label>\n          <input\n            name=\"name\"\n            type=\"text\"\n            className=\"form-control\"\n            id=\"inputName\"\n            placeholder=\"Name\"\n            value={details?.name}\n            onChange={handleDetails}\n          />\n        </div>\n        <div className=\"form-group col-md-6 py-2\">\n          <label htmlFor=\"inputMobile\">Mobile Number</label>\n          <input\n          name=\"mobileNumber\"\n            type=\"number\"\n            className=\"form-control\"\n            id=\"inputMobile\"\n            placeholder=\"10-digit mobile number\"\n            value={details?.mobileNumber}\n            onChange={handleDetails}\n          />\n        </div>\n      </div>\n      <div className=\"form-row\">\n        <div className=\"form-group col-md-6 py-2\">\n          <label htmlFor=\"inputPincode\">Pincode</label>\n          <input\n          name=\"pincode\"\n            type=\"number\"\n            className=\"form-control\"\n            id=\"inputPincode\"\n            placeholder=\"Pincode\"\n            value={details?.pincode}\n            onChange={handleDetails}\n          />\n        </div>\n        <div className=\"form-group col-md-6 py-2\">\n          <label htmlFor=\"inputCity\">City</label>\n          <input\n          name=\"city\"\n            type=\"text\"\n            className=\"form-control\"\n            id=\"inputCity\"\n            placeholder=\"City\"\n            value={details?.city}\n            onChange={handleDetails}\n          />\n        </div>\n      </div>\n      <div className=\"form-group py-2\">\n        <label htmlFor=\"inputAddress\">Address</label>\n        <input\n        name=\"address\"\n          type=\"text\"\n          className=\"form-control\"\n          id=\"inputAddress\"\n          placeholder=\"1234 Main St\"\n          value={details?.address}\n          onChange={handleDetails}\n        />\n      </div>\n\n      <div className=\"form-row\">\n\n        <div className=\"form-group col-md-6 py-2\">\n          <label htmlFor=\"inputState\">State</label>\n          <select id=\"inputState\" className=\"form-control\" value={details?.state} name=\"state\" onChange={handleDetails}>\n            {indianState.map((state,index)=>(\n              <option key={index} defaultValue={state.abbreviation}>{state.name}</option>\n            ))}\n          </select>\n        </div>\n        <div className=\"form-group col-md-6 py-2\">\n          <label htmlFor=\"inputZip\">Zip</label>\n          <input type=\"text\" className=\"form-control\" id=\"inputZip\" value={details?.zip} name=\"zip\" onChange={handleDetails}/>\n        </div>\n      </div>\n      <button style={{background:\"#f46326\",color:\"#ffffff\",padding:\"8px 28px\"}} type=\"submit\" className=\"btn bolt\">\n        Delivery here\n      </button>\n    </form>\n  );\n}\n\nexport default CheckOutForm;\n","import React, { useEffect, useState } from \"react\";\nimport CheckOutForm from \"../../components/form/CheckOutForm\";\nimport getCart from \"../../functions/getUserCart\";\nimport { useSelector,useDispatch } from \"react-redux\";\nimport {useHistory} from \"react-router-dom\";\nimport CurrencyFormatter from \"react-currency-format\";\nimport {Spin} from \"antd\";\nimport {LoadingOutlined} from \"@ant-design/icons\";\n\n//css\nimport \"./checkout.css\";\nimport { currentUser } from \"../../functions/auth\";\nimport { verifyCoupon } from \"../../functions/coupon\";\nimport { verifyUser } from \"../../functions/payment\";\nimport Loading from \"../../components/Loading/Loading\";\n\nconst antIcon = <LoadingOutlined/>\nfunction CheckOut() {\n  const [details, setDetails] = useState({\n    name: \"\",\n    mobileNumber: \"\",\n    pincode: \"\",\n    city: \"\",\n    address: \"\",\n    state: \"\",\n    zip: \"\",\n  });\n  const [showCoupon, setShowCoupon] = useState(false);\n  const [couponCode, setCouponCode] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [orderLoading,setOrderLoading] = useState(false);\n  const [totalAfterDiscount,setTotalAfterDiscount] = useState(0);\n  // const [verifiedCoupon,setVerifiedCoupon] = useState({});\n  const { user } = useSelector((state) => ({ ...state }));\n  const [storeCart, setStoreCart] = useState(null);\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  useEffect(() => {\n    if (user) loadUser();\n    loadCart();\n    // eslint-disable-next-line\n  }, [user,totalAfterDiscount]);\n\n  const loadCart = async () => {\n    try {\n      const cart = await getCart(user?.email);\n      if(cart.data===\"Your cart is empty\"){\n        history.push(\"/\")\n      }else{\n      setStoreCart(cart.data);\n      // console.log(\"cart loaded\", cart);\n    }\n    } catch (e) {\n      history.push(\"/\")\n      // console.log(\"failed to get cart\", e);\n    }\n  };\n\n  const loadUser = async () => {\n    const userDetails = await currentUser(user?.email);\n    // console.log(\"user got it\", userDetails);\n\n    if (userDetails?.data)\n      setDetails({\n        name: userDetails?.data.name,\n        mobileNumber: userDetails?.data?.details?.mobileNumber,\n        pincode: userDetails?.data?.details?.pincode,\n        city: userDetails?.data?.details?.city,\n        address: userDetails?.data?.details?.address,\n        state: userDetails?.data?.details?.state,\n        zip: userDetails?.data?.details?.zip,\n      });\n  };\n\n  const applyCoupon = async (e) => {\n    // console.log(\"code sending to backend\",couponCode,e)\n    try {\n      if (couponCode&&user?.token) {\n        setLoading(true);\n        const verified = await verifyCoupon(couponCode, user?.token);\n         setTotalAfterDiscount(Number(verified?.data?.totalAfterDiscount));\n        // console.log(\"verified\",verified)\n        setLoading(false)\n        setError(\"Hurrey coupon applied !\");\n        dispatch({type:\"COUPON_APPLIED\",payload:true})\n      }\n    } catch (error) {\n      setError(\"code invalid!\");\n      setLoading(false);\n      e.target.previousSibling.style.color = \"red\";\n      dispatch({type:\"COUPON_APPLIED\",payload:false})\n    }\n  };\n\n  //place order function\n  const placeOrder = ()=>{\n    setOrderLoading(true)\n   if(details.address&&details.city&&details.mobileNumber&&details.name&&details.pincode&&details.state&&details.zip){\n     verify();  \n   }\n  }\n\n  const verify = async()=>{\n   try {\n     const verified = await verifyUser(user?._id)\n     console.log(\"verified\",verified)\n    verified?.data?.status&& history.push(`/payment/${user?._id}`);\n    setOrderLoading(false)\n   } catch (error) {\n     setOrderLoading(false)\n   }\n  }\n\n  return !storeCart?.products?(<Loading/>):(\n    <div className=\"checkout\">\n      <div className=\"checkout__details__container\">\n        <div className=\"checkout__delivery__address\">\n          <p className=\"heading\">Delivery Details</p>\n          <CheckOutForm\n            details={details}\n            setDetails={setDetails}\n            authtoken={user?.token}\n          />\n        </div>\n        <div className=\"checkout__coupon__container\">\n          <div\n            className=\"apply__coupon__heading\"\n            onClick={(e) => {\n              setShowCoupon(!showCoupon);\n              e.target.nextSibling.style.display = \"block\";\n            }}\n          >\n            Apply Coupon\n          </div>\n          <div\n            className=\"apply__coupon__container\"\n            style={showCoupon ? { display: \"block\" } : { display: \"none\" }}\n          >\n            <input\n              type=\"text\"\n              placeholder=\"Enter Coupon\"\n              value={couponCode}\n              onChange={(e) => {\n                setCouponCode(e.target.value);\n                e.target.style.color = \"inherit\";\n                setError(\"\");\n              }}\n            />\n            <button onClick={applyCoupon}>{loading?\"Verifying...\":\"Apply\"}</button>\n            {error === \"code invalid!\" && (\n              <div>\n                <small style={{ color: \"red\", letterSpacing: \"1px\",fontWeight:\"bold\" }}>\n                  code invalid !\n                </small>\n              </div>\n            )}\n            {error === \"Hurrey coupon applied !\" && (\n              <div>\n                <small style={{ color: \"#2774f0\", letterSpacing: \"1px\",fontWeight:\"bold\" }}>\n                  Hurrey coupon applied !\n                </small>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n      <div className=\"checkout__order__summary cart__fill__price__details__container\">\n        <div\n          style={{ textTransform: \"uppercase\", letterSpacing: \"1px\" }}\n          className=\"cart__fill__price__details__heading\"\n        >\n          Order Summary\n        </div>\n        <div className=\"cart__fill__price__details__calculation\">\n          {storeCart?.products?.map((item, index) => (\n            <div key={item?._id} className=\"cart__fill__price__details\">\n              <div>\n                {item?.product.title.slice(0, 20)} ({item.color}) x{\" \"}\n                {item?.count}\n              </div>{\" \"}\n              <div>\n                {\n                  <CurrencyFormatter\n                    value={item?.product.price * item?.count}\n                    displayType={\"text\"}\n                    thousandSeparator={true}\n                    prefix=\"₹\"\n                  />\n                }\n              </div>\n            </div>\n          ))}\n          <div className=\"cart__fill__price__details__total\">\n            <div>Total Payable</div>\n            <div>\n              {\n                <CurrencyFormatter\n                value={storeCart?.totalAfterDiscount?storeCart.totalAfterDiscount:storeCart?.cartTotal}\n                displayType={\"text\"}\n                  thousandSeparator={true}\n                  prefix=\"₹\"\n                />\n              }\n            </div>\n          </div>\n        </div>\n      </div>\n      {\n        <div className=\"proceed__to__checkout\">\n          <button disabled={orderLoading?true:false} onClick={placeOrder}>{orderLoading?(<Spin size=\"large\" indicator={antIcon} tip=\"Placeing order\" />):\"Place order\"}</button>\n        </div>\n      }\n    </div>\n  );\n}\n\nexport default CheckOut;\n"],"sourceRoot":""}