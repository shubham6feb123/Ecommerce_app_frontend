(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[8],{285:function(e,t,c){"use strict";c.d(t,"a",(function(){return i})),c.d(t,"b",(function(){return o})),c.d(t,"d",(function(){return l})),c.d(t,"c",(function(){return u}));var n=c(14),r=c(19),a=c(43),s=c.n(a),i=function(){var e=Object(r.a)(Object(n.a)().mark((function e(t,c){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.post("".concat("https://ecommerce-app-backend-2zh4.onrender.com/api","/category"),{name:c},{headers:{email:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),o=function(){var e=Object(r.a)(Object(n.a)().mark((function e(){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("".concat("https://ecommerce-app-backend-2zh4.onrender.com/api","/categories"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(r.a)(Object(n.a)().mark((function e(t,c,r){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.put("".concat("https://ecommerce-app-backend-2zh4.onrender.com/api","/category/").concat(t),{category:r},{headers:{email:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c,n){return e.apply(this,arguments)}}(),u=function(){var e=Object(r.a)(Object(n.a)().mark((function e(t,c){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("slug",t,"email",c),e.next=3,s.a.delete("".concat("https://ecommerce-app-backend-2zh4.onrender.com/api","/category/").concat(t),{headers:{email:c}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()},287:function(e,t,c){"use strict";c.d(t,"a",(function(){return i})),c.d(t,"c",(function(){return o})),c.d(t,"b",(function(){return l})),c.d(t,"e",(function(){return u})),c.d(t,"d",(function(){return j}));var n=c(14),r=c(19),a=c(43),s=c.n(a),i=function(){var e=Object(r.a)(Object(n.a)().mark((function e(t,c){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.post("".concat("https://ecommerce-app-backend-2zh4.onrender.com/api","/coupon/create"),t,{headers:{email:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),o=function(){var e=Object(r.a)(Object(n.a)().mark((function e(t,c){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.delete("".concat("https://ecommerce-app-backend-2zh4.onrender.com/api","/coupon/remove/").concat(t),{headers:{email:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),l=function(){var e=Object(r.a)(Object(n.a)().mark((function e(){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("".concat("https://ecommerce-app-backend-2zh4.onrender.com/api","/coupon/list"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(r.a)(Object(n.a)().mark((function e(t,c){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.post("".concat("https://ecommerce-app-backend-2zh4.onrender.com/api","/coupon/verify"),{verify:t},{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),j=function(){var e=Object(r.a)(Object(n.a)().mark((function e(t,c){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.post("".concat("https://ecommerce-app-backend-2zh4.onrender.com/api","/user/order"),{stripeResponse:t},{headers:{authtoken:c,message:"order create kr rhe h"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()},349:function(e,t,c){},350:function(e,t,c){},593:function(e,t,c){},594:function(e,t,c){},599:function(e,t,c){},601:function(e,t,c){},602:function(e,t,c){},603:function(e,t,c){},665:function(e,t,c){},666:function(e,t,c){},711:function(e,t,c){"use strict";c.r(t);var n=c(0),r=(c(593),c(7)),a=(c(594),c(31)),s=c(85),i=c(717),o=c(730),l=c(6),u=Object(l.jsx)("span",{children:"Admin Options"});var j=function(e){var t=e.path,c=Object(n.useState)({visible:!1,placement:"left"}),j=Object(r.a)(c,2),d=j[0],b=j[1];return Object(l.jsxs)("div",{className:"adminnav",children:[Object(l.jsxs)("div",{className:"adminnav__links__wrapper",children:[Object(l.jsx)("li",{children:Object(l.jsx)(a.b,{to:"".concat(t),children:"DASHBOARD"})}),Object(l.jsx)("li",{children:Object(l.jsx)(a.b,{to:"".concat(t,"/product"),children:"PRODUCT"})}),Object(l.jsx)("li",{children:Object(l.jsx)(a.b,{to:"".concat(t,"/productlist"),children:"PRODUCT LIST"})}),Object(l.jsx)("li",{children:Object(l.jsx)(a.b,{to:"".concat(t,"/category"),children:"CATEGORY"})}),Object(l.jsx)("li",{children:Object(l.jsx)(a.b,{to:"".concat(t,"/subcategory"),children:"SUB CATEGORY"})}),Object(l.jsx)("li",{children:Object(l.jsx)(a.b,{to:"".concat(t,"/coupon"),children:"COUPON"})})]}),Object(l.jsxs)("div",{className:"adminnav__links__wrapper__mobile",children:[Object(l.jsx)(s.a,{placement:"right",title:u,children:Object(l.jsx)(o.a,{onClick:function(){b({visible:!0})}})}),Object(l.jsx)(i.a,{className:"drawer",title:"Admin Options",placement:d.placement,closable:!1,onClose:function(){b({visible:!1})},visible:d.visible,children:Object(l.jsxs)("ul",{className:"adminnav__options",children:[Object(l.jsx)("li",{children:Object(l.jsx)(a.b,{to:"".concat(t),children:"DASHBOARD"})}),Object(l.jsx)("li",{children:Object(l.jsx)(a.b,{to:"".concat(t,"/product"),children:"PRODUCT"})}),Object(l.jsx)("li",{children:Object(l.jsx)(a.b,{to:"".concat(t,"/productlist"),children:"PRODUCT LIST"})}),Object(l.jsx)("li",{children:Object(l.jsx)(a.b,{to:"".concat(t,"/category"),children:"CATEGORY"})}),Object(l.jsx)("li",{children:Object(l.jsx)(a.b,{to:"".concat(t,"/subcategory"),children:"SUB CATEGORY"})}),Object(l.jsx)("li",{children:Object(l.jsx)(a.b,{to:"".concat(t,"/coupon"),children:"COUPON"})})]})},d.placement)]})]})},d=c(30),b=c(11),p=c(3),h=(c(160),c(349),c(60)),O=c(34),m=c(70),x=c(285),f=c(245),g=c(710),v=c(243),y=c(126),_=c(237),w=c(728),N=c(723),k=Object(l.jsx)(m.a,{style:{fontSize:24},spin:!0}),C=f.a.Search,S=g.a.Paragraph;var P=function(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),c=t[0],s=t[1],i=Object(n.useState)(!1),o=Object(r.a)(i,2),u=o[0],j=o[1],m=Object(n.useState)(null),g=Object(r.a)(m,2),P=g[0],F=g[1],z=Object(n.useState)(""),T=Object(r.a)(z,2),D=T[0],I=T[1],A=Object(n.useState)(!1),R=Object(r.a)(A,2),U=R[0],E=R[1],B=Object(d.j)().path,q=Object(n.useRef)(null),L=Object(O.c)((function(e){return Object(p.a)({},e)})).user;Object(n.useLayoutEffect)((function(){return Y(),function(){return c}}),[U]);var Y=function(){Object(x.b)().then((function(e){F(Object(b.a)(e.data)),s(!0)})).catch((function(e){}))},V=function(e,t){Object(x.a)(e,t).then((function(e){j(!1),h.b.success("category created",{position:"bottom-right"}),E(!U)})).catch((function(e){j(!1),h.b.error("failed to create category",{position:"bottom-right"})}))},G=function(e){var t,c;"Yes"===e.target.textContent&&(t=q.current.value,c=L.email,Object(x.c)(t,c).then((function(){h.b.success("category deleted",{position:"bottom-right"}),E(!U)})).catch((function(e){h.b.error("failed to updated category",{position:"bottom-right"})})))};return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"subcategory",children:[Object(l.jsxs)("div",{className:"subcategory__wrapper",children:[Object(l.jsx)("h1",{style:{textAlign:"center"},children:"Create Category"}),Object(l.jsxs)(v.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:function(e){e&&(j(!0),V(L.email,e.category))},children:[Object(l.jsx)(v.a.Item,{label:"Category",name:"category",rules:[{required:!0,message:"Please enter category"}],children:Object(l.jsx)(f.a,{placeholder:"Category"})}),Object(l.jsx)(v.a.Item,{children:Object(l.jsx)(y.a,{type:"primary",htmlType:"submit",className:"login-form-button",size:"large",style:{width:"100%"},children:u?Object(l.jsx)(_.a,{indicator:k}):"Create"})})]})]}),Object(l.jsxs)("div",{className:"subcategory__list__wrapper",children:[Object(l.jsx)(w.b,{direction:"vertical",children:Object(l.jsx)(C,{className:"search",placeholder:"search category",onSearch:function(e){I(e)},enterButton:!0})}),Object(l.jsx)("ul",{className:"list__container",children:null===P||void 0===P?void 0:P.filter((function(e){return e.name.toLowerCase().includes(D)})).map((function(e){return Object(l.jsxs)("li",{children:[Object(l.jsx)(S,{children:e.name}),Object(l.jsx)("div",{children:Object(l.jsxs)(w.b,{children:[Object(l.jsx)(y.a,{type:"primary",name:"update",children:Object(l.jsx)(a.b,{to:"".concat(B,"/update/").concat(e.slug),children:"Update"})}),Object(l.jsx)(N.a,{placement:"left",title:"Are you sure?",value:e.slug,onConfirm:G,okText:"Yes",cancelText:"No",children:Object(l.jsx)(y.a,{type:"primary",name:"delete",value:e.slug,ref:q,danger:!0,children:"Delete"})})]})})]},e._id)}))})]})]})})},F=c(14),z=c(19),T=c(43),D=c.n(T),I=function(){var e=Object(z.a)(Object(F.a)().mark((function e(t,c,n){return Object(F.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.post("".concat("https://ecommerce-app-backend-2zh4.onrender.com/api","/subcategory"),{name:c,parent:n},{headers:{email:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c,n){return e.apply(this,arguments)}}(),A=function(){var e=Object(z.a)(Object(F.a)().mark((function e(){return Object(F.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("".concat("https://ecommerce-app-backend-2zh4.onrender.com/api","/subcategories"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(z.a)(Object(F.a)().mark((function e(t,c,n){return Object(F.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.put("".concat("https://ecommerce-app-backend-2zh4.onrender.com/api","/subcategory/").concat(t),{category:n},{headers:{email:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c,n){return e.apply(this,arguments)}}(),U=function(){var e=Object(z.a)(Object(F.a)().mark((function e(t,c){return Object(F.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("slug",t,"email",c),e.next=3,D.a.delete("".concat("https://ecommerce-app-backend-2zh4.onrender.com/api","/subcategory/").concat(t),{headers:{email:c}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),E=function(){var e=Object(z.a)(Object(F.a)().mark((function e(t){return Object(F.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("".concat("https://ecommerce-app-backend-2zh4.onrender.com/api","/subcategories/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=(c(350),c(719)),q=Object(l.jsx)(m.a,{style:{fontSize:24},spin:!0}),L=B.a.Option,Y=f.a.Search,V=g.a.Paragraph;var G=function(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),c=t[0],s=t[1],i=Object(n.useState)(!1),o=Object(r.a)(i,2),u=o[0],j=o[1],m=Object(n.useState)(null),g=Object(r.a)(m,2),k=g[0],C=g[1],S=Object(n.useState)(null),P=Object(r.a)(S,2),F=P[0],z=P[1],T=Object(n.useState)(""),D=Object(r.a)(T,2),R=D[0],E=D[1],G=Object(n.useState)(!1),J=Object(r.a)(G,2),H=J[0],M=J[1],Q=Object(d.j)().path,$=Object(n.useRef)(null),K=Object(O.c)((function(e){return Object(p.a)({},e)})).user;Object(n.useLayoutEffect)((function(){return Object(x.b)().then((function(e){C(Object(b.a)(e.data)),s(!0)})).catch((function(e){})),function(){return c}}),[]),Object(n.useLayoutEffect)((function(){X()}),[H]);var W=function(e,t,c){I(e,t,c).then((function(e){j(!1),h.b.success("subcategory created",{position:"bottom-right"}),M(!H)})).catch((function(e){j(!1),h.b.error("failed to create subcategory",{position:"bottom-right"})}))},X=function(){A().then((function(e){z(Object(b.a)(e.data))})).catch((function(e){}))},Z=function(e){var t,c;"Yes"===e.target.textContent&&(t=$.current.value,c=K.email,U(t,c).then((function(){h.b.success("subcategory deleted",{position:"bottom-right"}),M(!H)})).catch((function(e){h.b.error("failed to updated subcategory",{position:"bottom-right"})})))};return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"subcategory",children:[Object(l.jsxs)("div",{className:"subcategory__wrapper",children:[Object(l.jsx)("h1",{style:{textAlign:"center"},children:"Create Subcategory"}),Object(l.jsxs)(v.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:function(e){e&&(j(!0),W(K.email,e.subcategory,e.parentId))},children:[Object(l.jsx)(v.a.Item,{label:"Subcategory",name:"subcategory",rules:[{required:!0,message:"Please enter subcategory"}],children:Object(l.jsx)(f.a,{placeholder:"Subcategory"})}),Object(l.jsx)(v.a.Item,{name:"parentId",label:"Category",rules:[{required:!0,message:"Please select category"}],children:Object(l.jsx)(B.a,{placeholder:"select your parent category",children:null===k||void 0===k?void 0:k.map((function(e){return Object(l.jsx)(L,{value:e._id,children:e.name},e._id)}))})}),Object(l.jsx)(v.a.Item,{children:Object(l.jsx)(y.a,{type:"primary",htmlType:"submit",className:"login-form-button",size:"large",style:{width:"100%"},children:u?Object(l.jsx)(_.a,{indicator:q}):"Create"})})]})]}),Object(l.jsxs)("div",{className:"subcategory__list__wrapper",children:[Object(l.jsx)(w.b,{direction:"vertical",children:Object(l.jsx)(Y,{className:"search",placeholder:"search subcategory",onSearch:function(e){E(e)},enterButton:!0})}),Object(l.jsx)("ul",{className:"list__container",children:null===F||void 0===F?void 0:F.filter((function(e){return e.name.toLowerCase().includes(R)})).map((function(e){return Object(l.jsxs)("li",{children:[Object(l.jsx)(V,{children:e.name}),Object(l.jsx)("div",{children:Object(l.jsxs)(w.b,{children:[Object(l.jsx)(y.a,{type:"primary",name:"update",children:Object(l.jsx)(a.b,{to:"".concat(Q,"/update/").concat(e.slug),children:"Update"})}),Object(l.jsx)(N.a,{placement:"left",title:"Are you sure?",value:e.slug,onConfirm:Z,okText:"Yes",cancelText:"No",children:Object(l.jsx)(y.a,{type:"primary",name:"delete",value:e.slug,ref:$,danger:!0,children:"Delete"})})]})})]},e._id)}))})]})]})})},J=function(){var e=Object(z.a)(Object(F.a)().mark((function e(t,c){return Object(F.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.post("".concat("https://ecommerce-app-backend-2zh4.onrender.com/api","/admin/orders"),{},{headers:{email:c,authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),H=function(){var e=Object(z.a)(Object(F.a)().mark((function e(t,c,n,r){return Object(F.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.put("".concat("https://ecommerce-app-backend-2zh4.onrender.com/api","/admin/order-status"),{orderId:n,orderStatus:r},{headers:{email:c,authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c,n,r){return e.apply(this,arguments)}}(),M=c(121),Q=c(114),$=c.n(Q);var K=function(){var e=Object(n.useState)([]),t=Object(r.a)(e,2),c=t[0],a=t[1],s=Object(O.c)((function(e){return Object(p.a)({},e)})).user;Object(n.useEffect)((function(){s&&i()}),[s]);var i=function(){var e=Object(z.a)(Object(F.a)().mark((function e(){var t;return Object(F.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J(null===s||void 0===s?void 0:s.token,null===s||void 0===s?void 0:s.email);case 3:t=e.sent,a(t.data.order),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),M.b.error({content:"Failed to load orders",style:{position:"fixed",bottom:"10px",left:"25px",right:"20px"}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";"success"===t?M.b.success({content:e,style:{position:"fixed",bottom:"10px",left:"25px",right:"20px"}}):M.b.error({content:e,style:{position:"fixed",bottom:"10px",left:"25px",right:"20px"}})},u=function(){var e=Object(z.a)(Object(F.a)().mark((function e(t,c){return Object(F.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H(null===s||void 0===s?void 0:s.token,null===s||void 0===s?void 0:s.email,t,c);case 3:o("Order status updated"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),o("Failed to update order status","error");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,c){return e.apply(this,arguments)}}();return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:"table-responsive",children:c.map((function(e,t){return Object(l.jsx)("table",{className:"table table-bordered",style:{backgroundColor:"#80808047",border:"2px solid black"},children:Object(l.jsxs)("tbody",{children:[Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{scope:"row",children:"Order Id"}),Object(l.jsx)("td",{children:e.paymentIntent.id})]}),Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{scope:"row",children:"Amount"}),Object(l.jsx)("td",{children:Object(l.jsx)($.a,{value:e.paymentIntent.amount/100,displayType:"text",thousandSeparator:!0,prefix:"\u20b9"})})]}),Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{scope:"row",children:"Currency"}),Object(l.jsx)("td",{colSpan:"2",children:"INR"})]}),Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{scope:"row",children:"Payment Method"}),Object(l.jsx)("td",{colSpan:"2",children:"Card"})]}),Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{scope:"row",children:"Payment"}),Object(l.jsx)("td",{colSpan:"2",children:e.paymentIntent.status})]}),Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{scope:"row",children:"Order On"}),Object(l.jsx)("td",{colSpan:"2",children:new Date(e.createdAt).toDateString()})]}),Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Order Status"}),Object(l.jsx)("th",{children:Object(l.jsxs)("select",{className:"form-select","aria-label":"Default select example",onChange:function(t){u(e._id,t.target.value)},children:[Object(l.jsx)("option",{defaultValue:e.orderStatus,children:e.orderStatus}),Object(l.jsx)("option",{value:"Not Processed",children:"Not Processed"}),Object(l.jsx)("option",{value:"Processing",children:"Processing"}),Object(l.jsx)("option",{value:"Dispatched",children:"Dispatched"}),Object(l.jsx)("option",{value:"Cancelled",children:"Cancelled"}),Object(l.jsx)("option",{value:"Completed",children:"Completed"})]})})]}),Object(l.jsx)("tr",{children:Object(l.jsx)("td",{colSpan:2,children:Object(l.jsxs)("table",{className:"table table-striped align-middle table-bordered",style:{backgroundColor:"#2774f0"},children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Product"}),Object(l.jsx)("th",{children:"Price"}),Object(l.jsx)("th",{children:"Brand"}),Object(l.jsx)("th",{children:"Color"}),Object(l.jsx)("th",{children:"Quantity"})]})}),Object(l.jsx)("tbody",{children:e.products.map((function(e,t){return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:e.product.title.substring(0,30)}),Object(l.jsx)("td",{children:Object(l.jsx)($.a,{value:e.product.price,displayType:"text",thousandSeparator:!0,prefix:"\u20b9"})}),Object(l.jsx)("td",{children:e.product.brand}),Object(l.jsx)("td",{children:e.color}),Object(l.jsx)("td",{children:e.count})]},e._id)})}))})]})})})]})},e._id+t)}))})})},W=c(4),X=(c(599),c(715)),Z=c(600),ee=c.n(Z),te=(c(601),function(){var e=Object(z.a)(Object(F.a)().mark((function e(t,c){return Object(F.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",D.a.post("".concat("https://ecommerce-app-backend-2zh4.onrender.com/api","/uploadImages"),{image:t},{headers:{email:c.email}}));case 1:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}());var ce=function(e){var t=e.setImages,c=e.images,a=(e.values,e.setValues),s=e.allUploadedFiles,i=Object(O.c)((function(e){return Object(p.a)({},e)})).user,o=Object(n.useState)(!1),u=Object(r.a)(o,2),j=u[0],d=u[1],m=[],x=function(){var e=Object(z.a)(Object(F.a)().mark((function e(n){var r,a,s;return Object(F.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,r=n.target.files,a=0;case 3:if(!(a<r.length)){e.next=12;break}return e.next=6,g(r[a]);case 6:s=e.sent,m.push(s),t([].concat(Object(b.a)(c),m));case 9:a++,e.next=3;break;case 12:e.next=16;break;case 14:e.prev=14,e.t0=e.catch(0);case 16:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(z.a)(Object(F.a)().mark((function e(c,n){var r;return Object(F.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te(c,n);case 3:r=e.sent,s=[].concat(Object(b.a)(s),[r.data]),a((function(e){return Object(p.a)(Object(p.a)({},e),{},{images:s})})),d(!1),h.b.success("Product images uploaded!",{position:"bottom-right"}),t([]),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),h.b.error("Failed to upload images",{position:"bottom-right"});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,c){return e.apply(this,arguments)}}(),g=function(e){return new Promise((function(t){ee.a.imageFileResizer(e,300,300,"JPEG",100,0,(function(e){t(e)}),"base64")}))},v=function(e){var n=e.target.name;c.splice(n,1),t(Object(b.a)(c))};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"upload__container",children:[Object(l.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:x}),Object(l.jsx)("div",{className:"show__uploaded__images",children:null===c||void 0===c?void 0:c.map((function(e,t){return Object(l.jsxs)("div",{children:[Object(l.jsx)("img",{src:e,alt:"".concat(t+1)}),Object(l.jsx)("div",{className:"image__mask",children:Object(l.jsx)(y.a,{name:t,onClick:v,type:"primary",style:{width:"100%"},children:"Delete"})})]},t)}))})]}),Object(l.jsx)(y.a,{className:"upload__Button",type:"primary",disabled:!(c.length>0),loading:!!j,onClick:function(){for(var e=0;e<c.length;e++){d(!0);var t=c[e];f(t,i)}},children:j?"Uploading...":"Upload"})]})},ne=c(122),re=B.a.Option,ae={title:"",description:"",price:"",category:"",subcategories:[],shipping:"",quantity:"",images:[],color:[],brand:""},se=[];var ie=function(){var e=Object(n.useState)(ae),t=Object(r.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(!1),i=Object(r.a)(s,2),o=i[0],u=i[1],j=Object(n.useState)(null),d=Object(r.a)(j,2),m=d[0],g=d[1],v=Object(n.useState)(null),_=Object(r.a)(v,2),w=_[0],N=_[1],k=Object(n.useState)(!1),C=Object(r.a)(k,2),S=C[0],P=C[1],T=Object(n.useState)([]),D=Object(r.a)(T,2),I=D[0],A=D[1],R=Object(O.c)((function(e){return Object(p.a)({},e)})).user;Object(n.useLayoutEffect)((function(){return U(),function(){return o}}),[]),Object(n.useLayoutEffect)((function(){E(null===c||void 0===c?void 0:c.category).then((function(e){N(Object(b.a)(e.data))})).catch((function(e){return console.log("subcategories error",e)}))}),[S]);var U=function(){Object(x.b)().then((function(e){g(Object(b.a)(e.data)),u(!0)}))},q=function(e){e.currentTarget.value&&a(Object(p.a)(Object(p.a)({},c),{},Object(W.a)({},e.currentTarget.name,e.currentTarget.value)))},L=function(){var e=Object(z.a)(Object(F.a)().mark((function e(t){return Object(F.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ne.a)(t,R.email);case 3:e.sent&&h.b.success("product created",{position:"bottom-right"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),h.b.error("failed to create product",{position:"bottom-right"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsx)("div",{className:"admin__Product",children:Object(l.jsxs)("div",{className:"admin__product__wrapper",children:[Object(l.jsx)("h2",{style:{textAlign:"center"},children:"Create Product"}),Object(l.jsxs)("form",{action:"",className:"product__form",children:[Object(l.jsxs)("div",{className:"input__field",children:[Object(l.jsx)("label",{htmlFor:"title",children:"Name of Product"}),Object(l.jsx)(f.a,{name:"title",placeholder:"",id:"title",onChange:q})]}),Object(l.jsxs)("div",{className:"input__field",children:[Object(l.jsx)("label",{htmlFor:"brand",children:"Brand of Product"}),Object(l.jsx)(f.a,{name:"brand",placeholder:"",id:"brand",onChange:q})]}),Object(l.jsxs)("div",{className:"input__field",children:[Object(l.jsx)("label",{htmlFor:"title",children:"Price of Product"}),Object(l.jsx)(X.a,{name:"price",id:"price",onChange:function(e){e&&a(Object(p.a)(Object(p.a)({},c),{},{price:e}))},style:{width:"100%"},defaultValue:1e3,formatter:function(e){return"$ ".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace(/\$\s?|(,*)/g,"")}})]}),Object(l.jsxs)("div",{className:"input__field",children:[Object(l.jsx)("label",{htmlFor:"title",children:"Quantity of Product"}),Object(l.jsx)(X.a,{id:"quantity",name:"quantity",style:{width:"100%"},defaultValue:3,onChange:function(e){e&&a(Object(p.a)(Object(p.a)({},c),{},{quantity:e}))}})]}),Object(l.jsxs)("div",{className:"input__field",children:[Object(l.jsx)("label",{htmlFor:"title",children:"Shipping of Product"}),Object(l.jsxs)(B.a,{id:"shipping",name:"shipping",style:{width:" 100%"},placeholder:"Select a shipping option",onChange:function(e){e&&a(Object(p.a)(Object(p.a)({},c),{},{shipping:e}))},children:[Object(l.jsx)(re,{value:"Yes",children:"Yes"}),Object(l.jsx)(re,{value:"No",children:"No"})]})]}),Object(l.jsxs)("div",{className:"input__field",children:[Object(l.jsx)("label",{htmlFor:"title",children:"Color of Product"}),Object(l.jsxs)(B.a,{id:"color",name:"color",onChange:function(e){e&&a(Object(p.a)(Object(p.a)({},c),{},{color:e}))},mode:"tags",placeholder:"Please select color options",style:{width:"100%"},children:[Object(l.jsx)(re,{value:"Silver",children:"Silver"},"4"),Object(l.jsx)(re,{value:"Black",children:"Black"},"1"),Object(l.jsx)(re,{value:"Blue",children:"Blue"},"2"),Object(l.jsx)(re,{value:"Red",children:"Red"},"3")]})]}),Object(l.jsxs)("div",{className:"input__field",children:[Object(l.jsx)("label",{htmlFor:"title",children:"Category of Product"}),Object(l.jsx)(B.a,{id:"category",name:"category",onChange:function(e){e&&a(Object(p.a)(Object(p.a)({},c),{},{category:e})),P(!S)},placeholder:"Please select category",style:{width:"100%"},children:null===m||void 0===m?void 0:m.map((function(e){return Object(l.jsx)(re,{value:e._id,children:e.name},e._id)}))})]}),c.category&&Object(l.jsxs)("div",{className:"input__field",children:[Object(l.jsx)("label",{htmlFor:"title",children:"Subcategories of Product"}),Object(l.jsx)(B.a,{id:"color",name:"subcategories",onChange:function(e){e&&a(Object(p.a)(Object(p.a)({},c),{},{subcategories:e})),console.log(w,e)},mode:"tags",placeholder:"Please select subcategories options",style:{width:"100%"},children:null===w||void 0===w?void 0:w.map((function(e){return Object(l.jsx)(re,{value:e._id,children:e.name},e._id)}))})]}),Object(l.jsxs)("div",{className:"input__field",children:[Object(l.jsx)("label",{htmlFor:"description",children:"Description of Product"}),Object(l.jsx)(f.a.TextArea,{showCount:!0,maxLength:3e3,name:"description",placeholder:"Please type description of product",id:"description",onChange:q})]}),Object(l.jsx)("div",{className:"input__field",children:Object(l.jsx)(ce,{setImages:A,images:I,values:c,setValues:a,allUploadedFiles:se})}),Object(l.jsx)("div",{className:"input__field",children:Object(l.jsx)(y.a,{type:"primary",block:!0,onClick:function(){var e=c.title,t=c.description,n=c.price,r=c.color,a=c.brand,s=c.images,i=c.quantity,o=c.subcategories,l=c.category,u=c.shipping;e&&t&&n&&r.length>0&&a&&s.length>0&&i&&o.length>0&&l&&u?(L(c),h.b.success("Product created!",{position:"bottom-right"})):h.b.success("Fill all fields",{position:"bottom-right"})},children:"Create"})})]})]})})},oe=(c(602),c(603),c(712)),le=c(709),ue=c(604),je=c.n(ue),de=c(731),be=c(697),pe=oe.a.Meta;var he=function(e){var t=e.product,c=e.handleRemove,r=e.loading,a=Object(n.useRef)();return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)(oe.a,{loading:r,hoverable:!0,style:{width:263},cover:Object(l.jsx)(le.a,{alt:"product",src:t.images[1].secure_url,height:180}),children:[Object(l.jsx)(pe,{title:t.title,description:Object(l.jsx)($.a,{value:t.price,displayType:"text",thousandSeparator:!0,prefix:"\u20b9"})}),Object(l.jsx)("div",{style:{marginTop:15,textAlign:"center"},children:Object(l.jsx)(w.b,{direction:"vertical",children:Object(l.jsx)(je.a,{children:Object(l.jsxs)(w.b,{size:"small",children:[Object(l.jsx)(y.a,{size:"middle",type:"primary",disabled:!0,icon:Object(l.jsx)(de.a,{}),children:"Update"}),Object(l.jsx)(y.a,{id:t.slug,ref:a,size:"middle",type:"primary",icon:Object(l.jsx)(be.a,{}),onClick:function(e){c(a.current.id)},children:"Delete"})]})})})})]})})};var Oe=function(){var e=Object(n.useState)(null),t=Object(r.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(!0),i=Object(r.a)(s,2),o=i[0],u=i[1];Object(n.useEffect)((function(){j()}),[]);var j=function(){Object(ne.e)(100).then((function(e){a(e.data),u(!1)})).catch((function(e){u(!0)}))},d=function(e){window.confirm("Do you want to delete ?")&&(console.log("delete request send",e),Object(ne.b)(e).then((function(e){h.b.success("product deleted",{position:"bottom-right"}),j()})).catch((function(e){h.b.error("Product deletion failed",{position:"bottom-right"})})))};return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:"product__container",children:null===c||void 0===c?void 0:c.map((function(e){return Object(l.jsx)(he,{product:e,handleRemove:d,loading:o},e._id)}))})})},me=c(287),xe=(c(665),c(708));c(666);var fe=function(e){var t=e.name,c=e.discount,n=e.expiry,r=e.couponId,a=e.email,s=e.loadCoupon,i=function(){var e=Object(z.a)(Object(F.a)().mark((function e(){return Object(F.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.c)(r,a);case 2:M.b.error({content:"".concat(t," coupon deleted!"),style:{position:"fixed",bottom:"10px",left:"25px",right:"20px"}}),s();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.jsxs)("div",{className:"coupon__card",children:[Object(l.jsx)("div",{className:"coupon__heading",children:t}),Object(l.jsxs)("div",{className:"coupon__discount",children:[c,"%"]}),Object(l.jsxs)("div",{className:"coupon__expiry",children:["Expiry:",new Date(n).toLocaleDateString()]}),Object(l.jsx)("div",{className:"coupon__delete",onClick:i,children:"x"})]})};var ge=function(){var e=Object(n.useState)({name:"",discount:"",expiry:""}),t=Object(r.a)(e,2),c=t[0],a=t[1],s=Object(O.c)((function(e){return Object(p.a)({},e)})).user,i=Object(n.useState)([]),o=Object(r.a)(i,2),u=o[0],j=o[1];Object(n.useEffect)((function(){m()}),[]);var d=function(e){console.log(e.target.name),a(Object(p.a)(Object(p.a)({},c),{},Object(W.a)({},e.target.name,e.target.value)))},h=function(){var e=Object(z.a)(Object(F.a)().mark((function e(){var t;return Object(F.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.a)(c,null===s||void 0===s?void 0:s.email);case 2:t=e.sent,j([].concat(Object(b.a)(u),[t.data])),M.b.success({content:"".concat(c.name," coupon created!"),style:{position:"fixed",bottom:"10px",left:"25px",right:"20px"}}),a({name:"",discount:"",expiry:""});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(z.a)(Object(F.a)().mark((function e(){var t;return Object(F.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.b)();case 2:t=e.sent,j(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"coupon",children:Object(l.jsxs)("form",{style:{margin:"0px 10px"},children:[Object(l.jsx)("h1",{className:"h1 mb-3 text-center",children:"Create Coupon"}),Object(l.jsxs)("div",{className:"row mb-4",children:[Object(l.jsx)("label",{htmlFor:"inputName",className:"col-sm-2 col-form-label",children:"Name"}),Object(l.jsx)("div",{className:"col-sm-10",children:Object(l.jsx)("input",{type:"text",name:"name",style:{textTransform:"uppercase"},value:c.name,className:"form-control",id:"inputName",required:!0,onChange:d})})]}),Object(l.jsxs)("div",{className:"row mb-4",children:[Object(l.jsx)("label",{htmlFor:"inputDiscount",className:"col-sm-2 col-form-label",children:"Discount%"}),Object(l.jsx)("div",{className:"col-sm-10",children:Object(l.jsx)("input",{type:"number",name:"discount",value:c.discount,className:"form-control",id:"inputDiscount",required:!0,onChange:d})})]}),Object(l.jsxs)("div",{className:"row mb-4",children:[Object(l.jsx)("label",{htmlFor:"inputExpiry",className:"col-sm-2 col-form-label",children:"Expiry"}),Object(l.jsx)("div",{className:"col-sm-10",children:Object(l.jsx)(xe.a,{onChange:function(e,t){console.log(e,t),a(Object(p.a)(Object(p.a)({},c),{},{expiry:t}))}})})]}),Object(l.jsx)("div",{className:"row mb-4 d-flex justify-content-center ",children:Object(l.jsx)(y.a,{type:"primary",style:{width:"57%"},onClick:function(){c.name&&c.discount&&c.expiry&&h()},children:"Create coupon"})})]})}),Object(l.jsx)("div",{className:"coupon__card__container",children:null===u||void 0===u?void 0:u.map((function(e){return Object(l.jsx)(fe,{name:e.name,discount:e.discount,expiry:e.expiry,couponId:e._id,email:null===s||void 0===s?void 0:s.email,loadCoupon:m},e._id)}))})]})},ve=Object(l.jsx)(m.a,{style:{fontSize:24},spin:!0});var ye=function(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),c=t[0],a=t[1],s=Object(d.i)().slug,i=Object(O.c)((function(e){return Object(p.a)({},e)})).user,o=function(e,t,c){R(e,t,c).then((function(){h.b.success("subcategory updated",{position:"bottom-right"}),a(!1)})).catch((function(){a(!1),h.b.error("failed to updated subcategory",{position:"bottom-right"})}))};return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:"subcategory",children:Object(l.jsxs)("div",{className:"subcategory__wrapper",style:{marginTop:"100px"},children:[Object(l.jsx)("h1",{style:{textAlign:"center"},children:"Update Subcategory"}),Object(l.jsxs)(v.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:function(e){e&&(a(!0),o(s,i.email,e.subcategory))},children:[Object(l.jsx)(v.a.Item,{label:"Subcategory",name:"subcategory",rules:[{required:!0,message:"Please enter subcategory"}],children:Object(l.jsx)(f.a,{placeholder:"Subcategory"})}),Object(l.jsx)(v.a.Item,{children:Object(l.jsx)(y.a,{type:"primary",htmlType:"submit",className:"login-form-button",size:"large",style:{width:"100%"},children:c?Object(l.jsx)(_.a,{indicator:ve}):"Update"})})]})]})})})},_e=Object(l.jsx)(m.a,{style:{fontSize:24},spin:!0});var we=function(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),c=t[0],a=t[1],s=Object(d.i)().slug,i=Object(O.c)((function(e){return Object(p.a)({},e)})).user,o=function(e,t,c){Object(x.d)(e,t,c).then((function(){h.b.success("category updated",{position:"bottom-right"}),a(!1)})).catch((function(){a(!1),h.b.error("failed to updated category",{position:"bottom-right"})}))};return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:"subcategory",children:Object(l.jsxs)("div",{className:"subcategory__wrapper",style:{marginTop:"100px"},children:[Object(l.jsx)("h1",{style:{textAlign:"center"},children:"Update Category"}),Object(l.jsxs)(v.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:function(e){e&&(a(!0),o(s,i.email,e.category))},children:[Object(l.jsx)(v.a.Item,{label:"Category",name:"category",rules:[{required:!0,message:"Please enter category"}],children:Object(l.jsx)(f.a,{placeholder:"Category"})}),Object(l.jsx)(v.a.Item,{children:Object(l.jsx)(y.a,{type:"primary",htmlType:"submit",className:"login-form-button",size:"large",style:{width:"100%"},children:c?Object(l.jsx)(_.a,{indicator:_e}):"Update"})})]})]})})})};t.default=function(){var e=Object(d.j)().path;return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"dashboard",children:[Object(l.jsx)(j,{path:e}),Object(l.jsxs)(d.d,{children:[Object(l.jsx)(d.b,{exact:!0,path:"".concat(e),children:Object(l.jsx)(K,{})}),Object(l.jsx)(d.b,{exact:!0,path:"".concat(e,"/product"),children:Object(l.jsx)(ie,{})}),Object(l.jsx)(d.b,{exact:!0,path:"".concat(e,"/productlist"),children:Object(l.jsx)(Oe,{})}),Object(l.jsx)(d.b,{exact:!0,path:"".concat(e,"/category"),children:Object(l.jsx)(P,{})}),Object(l.jsx)(d.b,{exact:!0,path:"".concat(e,"/subcategory"),children:Object(l.jsx)(G,{})}),Object(l.jsx)(d.b,{exact:!0,path:"".concat(e,"/coupon"),children:Object(l.jsx)(ge,{})}),Object(l.jsx)(d.b,{exact:!0,path:"".concat(e,"/subcategory/update/:slug"),children:Object(l.jsx)(ye,{})}),Object(l.jsx)(d.b,{exact:!0,path:"".concat(e,"/category/update/:slug"),children:Object(l.jsx)(we,{})})]})]})})}}}]);
//# sourceMappingURL=8.96d9c511.chunk.js.map