{"version":3,"sources":["functions/rating.js","components/Cart/cart.png","components/Cart/CartEmpty.js","../node_modules/@ant-design/icons-svg/es/asn/DeleteFilled.js","../node_modules/@ant-design/icons/es/icons/DeleteFilled.js","components/WishListCard/WishListCard.js","pages/user/WishList.js"],"names":["postRating","rating","productId","token","axios","post","process","star","headers","authtoken","getRating","getAverageRating","slug","get","CartEmpty","heading","text1","text2","button","history","useHistory","className","src","cart","alt","onClick","push","DeleteFilled","props","ref","React","AntdIcon","_objectSpread","icon","DeleteFilledSvg","displayName","WishListCard","title","price","url","id","setRerender","useState","avgs","setAvg","useEffect","avgRate","rate","data","avg","deleteFromWishlist","removeFromWishList","prev","console","log","substring","color","Number","toPrecision","StarFilled","value","allUsers","displayType","thousandSeparator","prefix","WishList","user","useSelector","state","wishList","setWishList","rerender","loadWishlist","getWishList","list","wishlist","length","map","i","index","images","secure_url","_id"],"mappings":"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","file":"static/js/11.24ab884a.chunk.js","sourcesContent":["import axios from \"axios\"\n\nexport const postRating = async (rating, productId, token) => {\n  // console.log(\"from ratinng function\", rating, productId, token);\n  return await axios.post(\n    `${process.env.REACT_APP_API}/product/star/${productId}`,\n    {\n      star: rating,\n    },\n    {\n      headers: {\n        authtoken: token,\n      },\n    }\n  );\n};\n\nexport const getRating  = async(productId,token)=>{\n  return await axios.post(\n    `${process.env.REACT_APP_API}/product/star/rated/${productId}`,\n    {},\n    {\n      headers: {\n        authtoken: token,\n      },\n    }\n  )\n}\n\nexport const getAverageRating = async(slug)=>{\n  return await axios.get(`${process.env.REACT_APP_API}/product/star/average/${slug}`)\n}\n\n","export default __webpack_public_path__ + \"static/media/cart.2fa7df42.png\";","//css\nimport { useHistory } from \"react-router\";\nimport \"./cart.css\";\n\n//images\nimport cart from \"./cart.png\";\n\n//components\n\n\nconst CartEmpty = ({heading,text1,text2,button}) => {\n    const history = useHistory();\n  return (\n    <>\n      <div className=\"cart__empty__container\">\n        <div className=\"cart__empty__heading\">\n          <span className=\"empty__heading\">{heading}</span>\n        </div>\n       <section className=\"cart__empty__section\">\n           <img className=\"cart__empty__img\" src={cart} alt=\"empty cart\"/>\n           <div className=\"cart__empty__text\">{text1}</div>\n           <div className=\"cart__empty__add__text\">{text2}</div>\n           <div className=\"cart__empty__shop__button\">\n               <button onClick={()=>{history.push(\"/\")}}>{button}</button>\n           </div>\n       </section>\n      </div>\n    </>\n  );\n};\n\nexport default CartEmpty;\n","// This icon file is generated automatically.\nvar DeleteFilled = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M864 256H736v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zm-200 0H360v-72h304v72z\" } }] }, \"name\": \"delete\", \"theme\": \"filled\" };\nexport default DeleteFilled;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport DeleteFilledSvg from \"@ant-design/icons-svg/es/asn/DeleteFilled\";\nimport AntdIcon from '../components/AntdIcon';\nvar DeleteFilled = function DeleteFilled(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: DeleteFilledSvg\n  }));\n};\nDeleteFilled.displayName = 'DeleteFilled';\nexport default /*#__PURE__*/React.forwardRef(DeleteFilled);","import {useState} from \"react\"\n//components\nimport { DeleteFilled,StarFilled } from \"@ant-design/icons\";\nimport { Tag } from \"antd\";\nimport CurrencyFormatter from \"react-currency-format\";\nimport {getAverageRating} from \"../../functions/rating\";\nimport { useEffect } from \"react\";\nimport CurrencyFormat from \"react-currency-format\";\nimport {removeFromWishList} from \"../../functions/wishList\";\nimport {useHistory} from \"react-router-dom\"\n\n\nfunction WishListCard({title,slug,price,url,id,setRerender,token}) {\n    const [avgs,setAvg] = useState(null);\n    const history = useHistory();\n    useEffect(()=>{\n        if(slug)\n        avgRate(slug);\n    },[slug])\n\n    const avgRate = async(slug)=>{\n      const rate = await getAverageRating(slug);\n    //   console.log(\"avg rate of product\",rate.data);\n      // setRate(rate.data);\n      rate.data.avg!=null?setAvg(rate.data):setAvg(null);\n  } \n\n const deleteFromWishlist = async()=>{\n    try{ \n    const done = await removeFromWishList(id,token);\n    //  console.log(\"done--->\")\n     setRerender((prev)=>!prev);\n    }catch(error){\n         console.log(\"error from delete wishlist\",error)\n    }\n } \n  \n const remove = ()=>{\n    deleteFromWishlist();\n } \n    return (\n      <>\n        <div className=\"wishlist__card__container\" onClick={()=>{history.push(`/product/${slug}`)}}>\n          <div className=\"image__container\">\n            <img\n              src={`${url}`}\n              alt=\"images\"\n            />\n          </div>\n          <div className=\"card__content\">\n            <div className=\"title\">{title.substring(0,38)}...</div>\n            <div className=\"rating\">\n            <Tag color=\"#428E3C\">{avgs?Number(avgs?.avg).toPrecision(2):\"0.0\"} {<StarFilled/>}</Tag>\n            <span className=\"rating__text\">\n            (\n            {avgs ? (\n              <CurrencyFormat\n                value={avgs.allUsers}\n                displayType={\"text\"}\n                thousandSeparator={true}\n              />\n            ) : (\n              0\n            )}\n            )\n          </span>\n            </div>\n            <div className=\"card__price\">\n              <CurrencyFormatter\n                value={price}\n                displayType={\"text\"}\n                thousandSeparator={true}\n                prefix=\"â‚¹\"\n              />\n            </div>\n          </div>\n          <div className=\"delete\" onClick={()=>{remove()}}>\n            <DeleteFilled />\n          </div>\n        </div>\n      </>\n    );\n  }\n  \n  export default WishListCard;\n","import React,{ useEffect,useState } from \"react\";\n//css\nimport \"./wishlist.css\";\n\nimport {getWishList} from \"../../functions/wishList\";\nimport { useSelector } from \"react-redux\";\nimport WishListCard from \"../../components/WishListCard/WishListCard\";\nimport CartEmpty from \"../../components/Cart/CartEmpty\";\n\n\nfunction WishList() {\n    const {user}  = useSelector((state)=>({...state}));\n    const [wishList,setWishList] = useState(null);\n    const [rerender,setRerender] = useState(true);\n    useEffect(()=>{\n        if(user)\n        loadWishlist();\n    },[user,rerender])\n\n    const loadWishlist = async()=>{\n       try {\n           const list = await getWishList(user?.token);\n           setWishList(list.data.wishlist)\n           console.log(\"load wishlist\",list); \n       } catch (error) {\n          setWishList(\"empty\")\n           console.log(\"error to get wishlist\",error)\n       }\n    }\n if(wishList===\"empty\"){ return <CartEmpty heading={\"My WishList\"} text1={\"Your WishList is empty!\"} text2={\"Add items to it now.\"} button={\"Shop now\"}/>}\n  return (\n    <div className=\"wishlist\">\n      <div className=\"wishlist__container\">\n        <div className=\"wishlist__heading\">\n         {wishList?<span>My WishList ({wishList?.length})</span>:\"\"}\n        </div>\n        {/* wishlist card */}\n          {\n            wishList?.map((i,index)=>(\n              <WishListCard key={index+1} title={i.title} slug={i.slug} price={i.price} url={i.images[0].secure_url} id={i._id} setRerender={setRerender} token={user?.token}/>\n            ))\n          }\n      </div>\n    </div>\n  );\n}\n\nexport default WishList"],"sourceRoot":""}