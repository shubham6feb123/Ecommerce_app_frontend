(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[10],{314:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return u}));var c=n(14),r=n(19),a=n(43),i=n.n(a),s=function(){var e=Object(r.a)(Object(c.a)().mark((function e(t,n,r){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("".concat("https://ecommerce-app-backend-2zh4.onrender.com/api","/product/star/").concat(n),{star:t},{headers:{authtoken:r}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),o=function(){var e=Object(r.a)(Object(c.a)().mark((function e(t,n){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("".concat("https://ecommerce-app-backend-2zh4.onrender.com/api","/product/star/rated/").concat(t),{},{headers:{authtoken:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),u=function(){var e=Object(r.a)(Object(c.a)().mark((function e(t){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("".concat("https://ecommerce-app-backend-2zh4.onrender.com/api","/product/star/average/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},668:function(e,t,n){},669:function(e,t,n){},678:function(e,t,n){},679:function(e,t,n){},680:function(e,t,n){},681:function(e,t,n){},716:function(e,t,n){"use strict";n.r(t);var c=n(14),r=n(11),a=n(19),i=n(7),s=n(3),o=n(0),u=(n(668),n(236)),l=n(122),d=n(30),b=n(159),j=n(732),p=n(733),v=n(162),O=(n(669),n(670),n(671)),f=n(6);var h=function(e){var t=e.images,n=function(e){window.open(e.target.firstElementChild.currentSrc,"_blank")};return Object(f.jsx)(O.Carousel,{autoPlay:!1,infiniteLoop:!0,axis:"horizontal",swipeable:!0,showIndicators:!1,showArrows:!1,showStatus:!1,showThumbs:!0,children:null===t||void 0===t?void 0:t.map((function(e){return Object(f.jsx)("div",{onClick:n,name:e.secure_url,children:Object(f.jsx)("img",{src:e.secure_url,alt:e.public_id})},e.public_id)}))})},x=(n(678),n(101));var m=function(e){var t=e.heading,n=e.clicked,c=Object(o.useRef)(null);return Object(o.useEffect)((function(){}),[n]),Object(f.jsxs)("div",{className:"alert__container ".concat(n?"clicked":""),ref:c,children:[Object(f.jsx)(x.a,{style:{color:"#428E3C",fontSize:"22px"}})," ",Object(f.jsx)("p",{style:{marginBottom:"0px",marginLeft:"10px",color:"#fff"},children:t})]})},g=n(114),_=n.n(g),w=(n(679),n(121)),k=n(85),y=n(692),N=(n(680),n(314)),S=n(728),C=n(696),z=["Very Bad","Bad","Good","Very Good","Excellent"];var T=function(e){var t=e.id,n=e.token,r=(e.slug,Object(o.useState)(null)),s=Object(i.a)(r,2),u=s[0],l=s[1],b=Object(o.useState)(!1),j=Object(i.a)(b,2),p=j[0],v=j[1],O=Object(d.g)();Object(o.useEffect)((function(){n||O.push("/login"),x(t,n)}),[t]);var h=function(){var e=Object(a.a)(Object(c.a)().mark((function e(t,n,r){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w.b.success({content:"Thanks for rate the product",style:{position:"fixed",bottom:"10px",left:"33vw"}}),e.next=4,Object(N.c)(t,n,r);case 4:v(!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),v(!1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,c){return e.apply(this,arguments)}}(),x=function(){var e=Object(a.a)(Object(c.a)().mark((function e(t,n){var r;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(N.b)(t,n);case 3:""!==(null===(r=e.sent)||void 0===r?void 0:r.data)?(l(r.data.star),v(!0)):v(!1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),l(null),v(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("span",{children:Object(f.jsxs)(S.b,{size:"large",children:[Object(f.jsx)(C.a,{className:"rate",tooltips:z,defaultValue:p?u:5,disabled:!!p,allowClear:!1,onChange:function(e){console.log("value",e),l(e),h(e,t,n)},value:null!==u?u:5}),null!=u?Object(f.jsx)("span",{children:z[u-1]}):Object(f.jsx)("span",{children:z[4]})]})})})},E=n(34),R=(n(681),n(43)),A=n.n(R),B=function(){var e=Object(a.a)(Object(c.a)().mark((function e(t){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.get("".concat("https://ecommerce-app-backend-2zh4.onrender.com/api","/product/get-review/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(a.a)(Object(c.a)().mark((function e(t,n,r){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.post("".concat("https://ecommerce-app-backend-2zh4.onrender.com/api","/product/review/").concat(r),{review:n},{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),P=n(246),F=function(e){var t=e.message,n=e.postedBy,r=void 0===n?"":n,s=e.user,u=Object(o.useState)({role:"",name:""}),l=Object(i.a)(u,2),d=l[0],b=l[1];Object(o.useEffect)((function(){j()}),[r]);var j=function(){var e=Object(a.a)(Object(c.a)().mark((function e(){var t;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B(r);case 3:t=e.sent,console.log("user details",t),b(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("failed to user detail",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{className:"review__container",style:(null===s||void 0===s?void 0:s.name)===(null===d||void 0===d?void 0:d.name)?{marginLeft:"auto",backgroundColor:"#ff8a00"}:{backgroundColor:"#2774f0"},children:Object(f.jsxs)("div",{className:"review__box",children:[Object(f.jsxs)("h6",{className:"reviewed__by",children:[Object(f.jsx)(P.a,{src:(null===d||void 0===d?void 0:d.name)===(null===s||void 0===s?void 0:s.name)?"https://joeschmoe.io/api/v1/random":"https://toppng.com/uploads/preview/user-account-management-logo-user-icon-11562867145a56rus2zwu.png"}),d.name,(null===d||void 0===d?void 0:d.name)===(null===s||void 0===s?void 0:s.name)?"(You)":""]}),Object(f.jsx)("p",{className:"review__message",children:t})]})})})};var I=function(e){var t,n=e.product,r=e.id,u=e.slug,l=e.review,d=Object(o.useState)(!1),b=Object(i.a)(d,2),j=b[0],p=b[1],v=Object(E.c)((function(e){return Object(s.a)({},e)})).user,O=Object(o.useState)(""),h=Object(i.a)(O,2),x=h[0],m=h[1],g=function(e){p(!j)},_=function(){var e=Object(a.a)(Object(c.a)().mark((function e(){var t;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(x.length>100)){e.next=5;break}w.b.warning({content:"Character limit 100 exceed",style:{position:"fixed",bottom:"0px",right:"35%"}}),e.next=14;break;case 5:if(""!==x){e.next=9;break}w.b.warning({content:"Review field cant not be empty!",style:{position:"fixed",bottom:"0px",right:"35%"}}),e.next=14;break;case 9:return e.next=11,W(null===v||void 0===v?void 0:v.token,x,r);case 11:t=e.sent,console.log("review submit",t),w.b.success({content:"Review submitted!",style:{position:"fixed",bottom:"0px",right:"35%"}});case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),console.log("error from review",e.t0,e.t0.message),w.b.error({content:"Review already submitted!",style:{position:"fixed",bottom:"0px",right:"35%"}});case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"product__item__list__container",children:[Object(f.jsxs)("div",{className:"product__item__list",children:[Object(f.jsx)("p",{children:"Color"}),Object(f.jsx)("div",{children:null===n||void 0===n||null===(t=n.color)||void 0===t?void 0:t.map((function(e,t){return Object(f.jsx)(k.a,{title:e,children:Object(f.jsx)("span",{onClick:g,style:{backgroundColor:e,borderColor:j?"#2774F0":""}})},t)}))})]}),Object(f.jsxs)("div",{className:"product__item__list",children:[Object(f.jsx)("p",{children:"Brand"}),Object(f.jsx)("div",{children:Object(f.jsx)("p",{style:{fontWeight:600,color:"black",width:"65px",textAlign:"end"},children:null===n||void 0===n?void 0:n.brand})})]}),Object(f.jsxs)("div",{className:"product__item__list",children:[Object(f.jsx)("p",{children:"Shipping"}),Object(f.jsx)("div",{children:Object(f.jsx)("p",{style:{fontWeight:600,color:"black",width:"65px"},children:null===n||void 0===n?void 0:n.shipping})})]}),Object(f.jsxs)("div",{className:"product__item__list",children:[Object(f.jsx)("p",{children:"Available"}),Object(f.jsx)("div",{children:Object(f.jsx)("p",{style:0===(null===n||void 0===n?void 0:n.quantity)?{fontWeight:600,color:"black",width:"107px"}:{fontWeight:600,color:"black",width:"65px"},children:(null===n||void 0===n?void 0:n.quantity)<=0?"Out of Stock":null===n||void 0===n?void 0:n.quantity})})]}),Object(f.jsxs)("div",{className:"product__item__list",children:[Object(f.jsx)("p",{children:"Sold"}),Object(f.jsx)("div",{children:Object(f.jsx)("p",{style:{fontWeight:600,color:"black",width:"65px",textAlign:"end"},children:null===n||void 0===n?void 0:n.sold})})]})]}),Object(f.jsx)("div",{className:"tabs",children:Object(f.jsxs)(y.a,{type:"card",children:[Object(f.jsx)(y.a.TabPane,{tab:"Description",children:n.description},"1"),Object(f.jsxs)(y.a.TabPane,{tab:"Reviews",children:[null===l||void 0===l?void 0:l.map((function(e,t){return Object(f.jsx)(F,{message:null===e||void 0===e?void 0:e.message,postedBy:null===e||void 0===e?void 0:e.postedBy,user:v},t)})),Object(f.jsxs)("div",{className:"review__input",children:[Object(f.jsx)("input",{className:"form-control",type:"text",value:x,placeholder:"Submit Review....",onChange:function(e){m(e.target.value)}}),Object(f.jsx)("button",{type:"button",onClick:_,children:"Submit"})]})]},"2"),Object(f.jsx)(y.a.TabPane,{tab:"Rate Product",children:Object(f.jsx)(T,{id:r,token:null===v||void 0===v?void 0:v.token,slug:u})},"3")]})})]})},q=n(40),D=n(682),L=n.n(D),J=n(75),V=n(124),G=[1,2,3,4,5];t.default=function(){var e=Object(E.c)((function(e){return Object(s.a)({},e)})).user,t=Object(d.i)().slug,n=Object(o.useState)({}),O=Object(i.a)(n,2),x=O[0],g=O[1],k=Object(o.useState)(!0),y=Object(i.a)(k,2),S=y[0],C=y[1],z=Object(o.useState)(!1),T=Object(i.a)(z,2),R=T[0],A=T[1],B=Object(o.useState)(null),W=Object(i.a)(B,2),P=W[0],F=W[1],D=Object(o.useState)([]),U=Object(i.a)(D,2),Y=U[0],H=U[1],K=Object(E.b)();Object(o.useLayoutEffect)((function(){X(t),Z(t)}),[t]),Object(o.useEffect)((function(){M()}),[x]);var M=function(){var e=Object(a.a)(Object(c.a)().mark((function e(){var t,n,a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.e)(10);case 2:n=e.sent,[],a=Object(r.a)(n.data),H(null===(t=a)||void 0===t?void 0:t.filter((function(e){var t,n;return(null===e||void 0===e||null===(t=e.category)||void 0===t?void 0:t.name)===(null===x||void 0===x||null===(n=x.category)||void 0===n?void 0:n.name)})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){if(!S)return Object(f.jsx)(m,{heading:"Added to your WishList",clicked:R})},X=function(){var e=Object(a.a)(Object(c.a)().mark((function e(t){var n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.d)(t);case 2:n=e.sent,g(Object(s.a)({},n.data));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(a.a)(Object(c.a)().mark((function e(t){var n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(N.a)(t);case 3:n=e.sent,F(Object(s.a)({},n.data)),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),$=function(e){var t=[];if(void 0!==typeof window){w.b.success({content:"Item added to your cart",style:{position:"fixed",bottom:"10px",left:"25px",right:"20px"}}),window.localStorage.getItem("cart")&&(t=JSON.parse(window.localStorage.getItem("cart")),window.localStorage.removeItem("cart")),t.push(Object(s.a)(Object(s.a)({},x),{},{count:1}));var n=L.a.uniqWith(t,L.a.isEqual);window.localStorage.setItem("cart",JSON.stringify(n)),K({type:"ADD_TO_CART",payload:n})}},ee=function(){var t=Object(a.a)(Object(c.a)().mark((function t(){return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(V.a)(null===x||void 0===x?void 0:x._id,null===e||void 0===e?void 0:e.token);case 3:t.sent,t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}();return x?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"single__product__container",children:[Object(f.jsxs)("div",{className:"single__product__carousel__container",children:[Object(f.jsx)(h,{images:null===x||void 0===x?void 0:x.images}),Object(f.jsxs)("div",{className:"button__group",children:[Object(f.jsxs)("button",{className:"cart",onClick:$,children:[Object(f.jsx)(j.a,{})," ADD TO CART"]}),Object(f.jsxs)("button",{className:"bolt",onClick:$,children:[Object(f.jsx)(p.a,{})," BUY NOW"]})]}),Object(f.jsx)("div",{className:"single__product__wishlist__button",onClick:function(){Q(),ee(),C(!S),A(!0),setTimeout((function(){A(!1)}),5e3)},children:S?Object(f.jsx)(b.a,{style:{color:"#c2c2c2",fontSize:"16px"}}):Object(f.jsx)(b.a,{style:{color:"#F35355",fontSize:"16px"}})})]}),Object(f.jsxs)("div",{className:"single__product__description__container",children:[Object(f.jsx)("div",{className:"single__product__heading",children:Object(f.jsx)("span",{children:null===x||void 0===x?void 0:x.title})}),Object(f.jsxs)("div",{className:"single__product__rating",children:[Object(f.jsxs)(u.a,{color:"#428E3C",children:[null!=(null===P||void 0===P?void 0:P.avg)?G.includes(null===P||void 0===P?void 0:P.avg)?Number(null===P||void 0===P?void 0:P.avg).toPrecision(2):null===P||void 0===P?void 0:P.avg:"0.0"," ",Object(f.jsx)(v.a,{})]}),Object(f.jsxs)("span",{className:"rating__text",children:[null===P||void 0===P?void 0:P.allUsers," Ratings"]})]}),Object(f.jsx)("div",{className:"single__product__price",children:Object(f.jsx)(_.a,{value:null===x||void 0===x?void 0:x.price,displayType:"text",thousandSeparator:!0,prefix:"\u20b9"})}),Object(f.jsx)(I,{product:x,id:x._id,slug:t,review:x.review})]})]}),Y.length>0?Object(f.jsx)("div",{className:"similar__products",children:Object(f.jsx)(q.a,{products:Y,heading:"Suggested Products"})}):"",Q()]}):Object(f.jsx)(J.a,{})}}}]);
//# sourceMappingURL=10.9449867b.chunk.js.map